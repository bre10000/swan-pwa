import{S as a,i as s,s as e,I as r,T as t,z as l,e as c,p as o,t as i,B as n,d as u,C as d,c as h,a as v,q as f,b as m,f as E,a5 as g,h as p,j as y,r as I,E as b,a6 as B,F as N,G as $,w as _,x as q,y as D,J as k,W as x,_ as R,N as V,g as S,K as w,ak as C}from"./client.8b941b19.js";import{f as O,r as P,a as T}from"./required.b71049dc.js";function A(a){let s,e;return{c(){s=c("p"),e=i("Name is required"),this.h()},l(a){s=h(a,"P",{class:!0});var r=v(s);e=m(r,"Name is required"),r.forEach(u),this.h()},h(){E(s,"class","help is-danger")},m(a,r){p(a,s,r),y(s,e)},d(a){a&&u(s)}}}function F(a){let s,e;return{c(){s=c("p"),e=i("Category is required"),this.h()},l(a){s=h(a,"P",{class:!0});var r=v(s);e=m(r,"Category is required"),r.forEach(u),this.h()},h(){E(s,"class","help is-danger")},m(a,r){p(a,s,r),y(s,e)},d(a){a&&u(s)}}}function H(a){let s,e,x,R,V,S,w,C,O,P,T,H,L,W,j,G,U,z,J,K,M,Q,X,Y,Z,aa,sa,ea,ra,ta,la,ca,oa,ia,na,ua,da,ha,va,fa,ma,Ea,ga,pa,ya,Ia,ba,Ba,Na,$a,_a,qa,Da,ka,xa,Ra,Va,Sa,wa,Ca=a[2].hasError("name.required"),Oa=a[2].hasError("category.required");C=new r({props:{data:t}});let Pa=Ca&&A(),Ta=Oa&&F();return{c(){s=l(),e=c("br"),x=c("br"),R=l(),V=c("div"),S=c("a"),w=c("span"),o(C.$$.fragment),O=i(" Back"),P=l(),T=c("br"),H=c("br"),L=l(),W=c("div"),j=c("br"),G=c("br"),U=l(),z=c("h3"),J=i("Edit Item"),K=l(),M=c("p"),Q=i("Complete the form below and click save."),X=l(),Y=c("br"),Z=l(),aa=c("form"),sa=c("div"),ea=c("div"),ra=c("div"),ta=c("label"),la=i("Name (*)"),ca=l(),oa=c("div"),ia=c("input"),na=l(),Pa&&Pa.c(),ua=l(),da=c("div"),ha=c("div"),va=c("label"),fa=i("Category"),ma=c("br"),Ea=l(),ga=c("div"),pa=c("select"),ya=c("option"),Ia=i("Health"),ba=c("option"),Ba=i("Wash"),Na=c("option"),$a=i("ES/NFI"),_a=l(),Ta&&Ta.c(),qa=l(),Da=c("div"),ka=c("button"),xa=i("Save"),this.h()},l(a){n('[data-svelte="svelte-1ci7vna"]',document.head).forEach(u),s=d(a),e=h(a,"BR",{}),x=h(a,"BR",{}),R=d(a),V=h(a,"DIV",{class:!0});var r=v(V);S=h(r,"A",{href:!0,class:!0});var t=v(S);w=h(t,"SPAN",{class:!0});var l=v(w);f(C.$$.fragment,l),l.forEach(u),O=m(t," Back"),t.forEach(u),P=d(r),T=h(r,"BR",{}),H=h(r,"BR",{}),L=d(r),W=h(r,"DIV",{class:!0});var c=v(W);j=h(c,"BR",{}),G=h(c,"BR",{}),U=d(c),z=h(c,"H3",{class:!0});var o=v(z);J=m(o,"Edit Item"),o.forEach(u),K=d(c),M=h(c,"P",{class:!0});var i=v(M);Q=m(i,"Complete the form below and click save."),i.forEach(u),X=d(c),Y=h(c,"BR",{}),Z=d(c),aa=h(c,"FORM",{});var E=v(aa);sa=h(E,"DIV",{class:!0});var g=v(sa);ea=h(g,"DIV",{class:!0});var p=v(ea);ra=h(p,"DIV",{class:!0});var y=v(ra);ta=h(y,"LABEL",{for:!0,class:!0});var I=v(ta);la=m(I,"Name (*)"),I.forEach(u),ca=d(y),oa=h(y,"DIV",{class:!0});var b=v(oa);ia=h(b,"INPUT",{class:!0,type:!0}),b.forEach(u),na=d(y),Pa&&Pa.l(y),y.forEach(u),p.forEach(u),ua=d(g),da=h(g,"DIV",{class:!0});var B=v(da);ha=h(B,"DIV",{class:!0});var N=v(ha);va=h(N,"LABEL",{for:!0,class:!0});var $=v(va);fa=m($,"Category"),$.forEach(u),ma=h(N,"BR",{}),Ea=d(N),ga=h(N,"DIV",{class:!0});var _=v(ga);pa=h(_,"SELECT",{name:!0});var q=v(pa);ya=h(q,"OPTION",{});var D=v(ya);Ia=m(D,"Health"),D.forEach(u),ba=h(q,"OPTION",{});var k=v(ba);Ba=m(k,"Wash"),k.forEach(u),Na=h(q,"OPTION",{});var A=v(Na);$a=m(A,"ES/NFI"),A.forEach(u),q.forEach(u),_a=d(_),Ta&&Ta.l(_),_.forEach(u),N.forEach(u),B.forEach(u),g.forEach(u),qa=d(E),Da=h(E,"DIV",{class:!0});var F=v(Da);ka=h(F,"BUTTON",{class:!0});var Ra=v(ka);xa=m(Ra,"Save"),Ra.forEach(u),F.forEach(u),E.forEach(u),c.forEach(u),r.forEach(u),this.h()},h(){document.title="Edit Item",E(w,"class","icon is-small"),E(S,"href","items"),E(S,"class","has-text-dark"),E(z,"class","my-0"),E(M,"class","gray py-0"),E(ta,"for",""),E(ta,"class","gray"),E(ia,"class","input"),ia.required=!0,E(ia,"type","text"),E(oa,"class","control"),E(ra,"class","field"),E(ea,"class","column"),E(va,"for",""),E(va,"class","gray"),ya.__value="Health",ya.value=ya.__value,ba.__value="Wash",ba.value=ba.__value,Na.__value="ES/NFI",Na.value=Na.__value,E(pa,"name","category"),void 0===a[0].value&&g((()=>a[9].call(pa))),E(ga,"class","control select is-fullwidth"),E(ha,"class","field"),E(da,"class","column"),E(sa,"class","columns"),ka.disabled=Ra=!a[2].valid||!a[2].dirty,E(ka,"class","button is-dark my-2 px-5 py-2 has-text-weight-bold"),E(Da,"class","container-fluid has-text-centered py-2"),E(W,"class","card px-6"),E(V,"class","container px-6")},m(r,t){p(r,s,t),p(r,e,t),p(r,x,t),p(r,R,t),p(r,V,t),y(V,S),y(S,w),I(C,w,null),y(S,O),y(V,P),y(V,T),y(V,H),y(V,L),y(V,W),y(W,j),y(W,G),y(W,U),y(W,z),y(z,J),y(W,K),y(W,M),y(M,Q),y(W,X),y(W,Y),y(W,Z),y(W,aa),y(aa,sa),y(sa,ea),y(ea,ra),y(ra,ta),y(ta,la),y(ra,ca),y(ra,oa),y(oa,ia),b(ia,a[1].value),y(ra,na),Pa&&Pa.m(ra,null),y(sa,ua),y(sa,da),y(da,ha),y(ha,va),y(va,fa),y(ha,ma),y(ha,Ea),y(ha,ga),y(ga,pa),y(pa,ya),y(ya,Ia),y(pa,ba),y(ba,Ba),y(pa,Na),y(Na,$a),B(pa,a[0].value),y(ga,_a),Ta&&Ta.m(ga,null),y(aa,qa),y(aa,Da),y(Da,ka),y(ka,xa),Va=!0,Sa||(wa=[N(ia,"input",a[8]),N(pa,"change",a[9]),N(ka,"click",$(a[6]))],Sa=!0)},p(a,[s]){2&s&&ia.value!==a[1].value&&b(ia,a[1].value),4&s&&(Ca=a[2].hasError("name.required")),Ca?Pa||(Pa=A(),Pa.c(),Pa.m(ra,null)):Pa&&(Pa.d(1),Pa=null),1&s&&B(pa,a[0].value),4&s&&(Oa=a[2].hasError("category.required")),Oa?Ta||(Ta=F(),Ta.c(),Ta.m(ga,null)):Ta&&(Ta.d(1),Ta=null),(!Va||4&s&&Ra!==(Ra=!a[2].valid||!a[2].dirty))&&(ka.disabled=Ra)},i(a){Va||(_(C.$$.fragment,a),Va=!0)},o(a){q(C.$$.fragment,a),Va=!1},d(a){a&&u(s),a&&u(e),a&&u(x),a&&u(R),a&&u(V),D(C),Pa&&Pa.d(),Ta&&Ta.d(),Sa=!1,k(wa)}}}async function L(a){return{slug:parseInt(a.params.slug)}}function W(a,s,e){let r,t,l,{slug:c}=s;const o=O("name","",[P()]);x(a,o,(a=>e(1,t=a)));const i=O("category","Health",[P()]);x(a,i,(a=>e(0,r=a)));const n=T(o,i);return x(a,n,(a=>e(2,l=a))),a.$$set=a=>{"slug"in a&&e(7,c=a.slug)},a.$$.update=()=>{128&a.$$.dirty&&c&&async function(){try{let a=await w("items/"+c,null);console.log("Get Item by ID ",a),o.set(a.data.attributes.name),i.set(a.data.attributes.category)}catch(a){console.log("Error get Item by ID ",a)}}()},[r,t,l,o,i,n,async function(){try{let a=await R({path:"items/"+c,data:{data:{name:t.value,category:r.value}}});console.log("Add Item Request  ",a),a.data?.id&&(V.push("Item Edited Successfully!",{duration:2e4,theme:{"--toastBackground":"#48BB78","--toastBarBackground":"#2F855A"}}),S("items"))}catch(a){console.log("Error Add Item   ",a)}},c,function(){t.value=this.value,o.set(t)},function(){r.value=C(this),i.set(r)}]}class j extends a{constructor(a){super(),s(this,a,W,H,e,{slug:7})}}export{j as default,L as preload};
