import{S as a,i as t,s as e,I as s,T as r,A as c,h as l,e as i,t as o,z as n,c as u,a as d,b as h,d as m,C as v,f,j as b,k as p,P as g,Z as E,aa as _,p as I,q as D,r as y,F as $,w as V,x as k,y as B,l as R,v as P,B as w,a5 as x,a4 as S,a6 as A,E as q,G as N,a3 as O,H as C,an as U,J as T,W as L,ah as H,aE as M,L as j,_ as W,N as G,a2 as Q,g as F,M as z,K as J,ak as K}from"./client.4ce32fd9.js";import{f as X,r as Z,a as Y}from"./required.839b9694.js";import{n as aa}from"./index.8bbc6ba3.js";import{S as ta}from"./Select.356ebf9c.js";import"./DateInput.a88975cd.js";import{D as ea}from"./DateInput.8aad4b43.js";import{l as sa}from"./index.79acf2d4.js";import{D as ra}from"./DeleteConfirmation.a8531309.js";import{c as ca}from"./log.4a01d003.js";function la(a,t,e){const s=a.slice();return s[51]=t[e],s}function ia(a,t,e){const s=a.slice();return s[54]=t[e],s[56]=e,s}function oa(a,t,e){const s=a.slice();return s[54]=t[e],s}function na(a,t,e){const s=a.slice();return s[59]=t[e],s}function ua(a,t,e){const s=a.slice();return s[62]=t[e],s}function da(a){let t,e=a[9],s=[];for(let t=0;t<e.length;t+=1)s[t]=ha(ua(a,e,t));return{c(){for(let a=0;a<s.length;a+=1)s[a].c();t=c()},l(a){for(let t=0;t<s.length;t+=1)s[t].l(a);t=c()},m(a,e){for(let t=0;t<s.length;t+=1)s[t].m(a,e);l(a,t,e)},p(a,r){if(512&r[0]){let c;for(e=a[9],c=0;c<e.length;c+=1){const l=ua(a,e,c);s[c]?s[c].p(l,r):(s[c]=ha(l),s[c].c(),s[c].m(t.parentNode,t))}for(;c<s.length;c+=1)s[c].d(1);s.length=e.length}},d(a){g(s,a),a&&m(t)}}}function ha(a){let t,e,s,r,c,g,E,_=a[62].path+"",I=a[62].message+"";return{c(){t=i("div"),e=i("span"),s=o(_),r=n(),c=i("br"),g=o(I),E=n(),this.h()},l(a){t=u(a,"DIV",{class:!0});var l=d(t);e=u(l,"SPAN",{class:!0});var i=d(e);s=h(i,_),i.forEach(m),r=v(l),c=u(l,"BR",{}),g=h(l,I),E=v(l),l.forEach(m),this.h()},h(){f(e,"class","has-text-weight-bold"),f(t,"class","notification is-danger")},m(a,i){l(a,t,i),b(t,e),b(e,s),b(t,r),b(t,c),b(t,g),b(t,E)},p(a,t){512&t[0]&&_!==(_=a[62].path+"")&&p(s,_),512&t[0]&&I!==(I=a[62].message+"")&&p(g,I)},d(a){a&&m(t)}}}function ma(a){let t,e,s,r=a[59].attributes.name+"";return{c(){t=i("option"),e=o(r),this.h()},l(a){t=u(a,"OPTION",{});var s=d(t);e=h(s,r),s.forEach(m),this.h()},h(){t.__value=s=a[59].id,t.value=t.__value},m(a,s){l(a,t,s),b(t,e)},p(a,c){64&c[0]&&r!==(r=a[59].attributes.name+"")&&p(e,r),64&c[0]&&s!==(s=a[59].id)&&(t.__value=s,t.value=t.__value)},d(a){a&&m(t)}}}function va(a){let t,e;return{c(){t=i("p"),e=o("Warehouse is required"),this.h()},l(a){t=u(a,"P",{class:!0});var s=d(t);e=h(s,"Warehouse is required"),s.forEach(m),this.h()},h(){f(t,"class","help is-danger")},m(a,s){l(a,t,s),b(t,e)},d(a){a&&m(t)}}}function fa(a){let t,e;return{c(){t=i("p"),e=o("Consortium Member is required"),this.h()},l(a){t=u(a,"P",{class:!0});var s=d(t);e=h(s,"Consortium Member is required"),s.forEach(m),this.h()},h(){f(t,"class","help is-danger")},m(a,s){l(a,t,s),b(t,e)},d(a){a&&m(t)}}}function ba(a){let t,e,r,c,g,E,_,R,P,w,x,S,A,q,N,O,C,U,T,L,j,W,G,Q,F,z,J,K,X,Z,Y,ta,ea,sa,ra,ca,la,ia,oa,na,ua,da,ha,ma,va,fa,ba,pa,ga,Ea,_a,Ia,Da,ya,$a,Va,ka,Ba,Ra,Pa,wa,xa,Sa,Aa,qa,Na,Oa,Ca,Ua,Ta,La,Ha,Ma,ja,Wa,Ga,Qa,Fa,za,Ja,Ka,Xa,Za,Ya,at,tt,et,st,rt,ct,lt,it=a[54].id+"",ot=a[54].attributes.purchase_order_item.data?.attributes.purchase_order.data?.attributes.poNumber+"",nt=a[54].attributes.purchase_order_item.data?.attributes.item?.data?.attributes.name+"",ut=a[54].attributes.remark+"",dt=a[54].attributes.purchase_order_item.data?.attributes.unit+"",ht=a[54].attributes.purchase_order_item.data?.attributes.pieces+"",mt=aa(a[54].attributes.purchase_order_item.data?.attributes.quantity)+"",vt=a[54].attributes.purchase_order_item.data?.attributes.currency+"",ft=aa(a[54].attributes.purchase_order_item.data?.attributes.unitPrice)+"",bt=aa(a[54].attributes.purchase_order_item.data?.attributes.unitPrice*a[54].attributes.purchase_order_item.data?.attributes.quantity)+"",pt=aa(a[54].attributes.received)+"";function gt(){return a[39](a[54])}return Ka=new s({props:{data:H}}),tt=new s({props:{data:M}}),{c(){t=i("div"),e=i("div"),r=i("div"),c=o(it),g=n(),E=i("div"),_=i("div"),R=o("PO#"),P=n(),w=i("br"),x=n(),S=o(ot),A=n(),q=i("div"),N=o(nt),O=n(),C=i("br"),U=n(),T=i("span"),L=o(ut),j=n(),W=i("div"),G=i("div"),Q=o("Unit"),F=n(),z=i("br"),J=n(),K=o(dt),X=n(),Z=i("div"),Y=i("div"),ta=o("Pieces"),ea=n(),sa=i("br"),ra=n(),ca=o(ht),la=n(),ia=i("div"),oa=i("div"),na=o("Quantity"),ua=n(),da=i("br"),ha=n(),ma=o(mt),va=n(),fa=i("div"),ba=i("div"),pa=o("Currency"),ga=n(),Ea=i("br"),_a=n(),Ia=o(vt),Da=n(),ya=i("div"),$a=i("div"),Va=o("Unit Price"),ka=n(),Ba=i("br"),Ra=n(),Pa=o(ft),wa=n(),xa=i("div"),Sa=i("div"),Aa=o("Total"),qa=n(),Na=i("br"),Oa=n(),Ca=o(bt),Ua=n(),Ta=i("div"),La=i("div"),Ha=o("Received"),Ma=n(),ja=i("br"),Wa=n(),Ga=o(pt),Qa=n(),Fa=i("div"),za=i("a"),Ja=i("span"),I(Ka.$$.fragment),Za=n(),Ya=i("button"),at=i("span"),I(tt.$$.fragment),et=n(),st=i("hr"),this.h()},l(a){t=u(a,"DIV",{class:!0});var s=d(t);e=u(s,"DIV",{class:!0});var l=d(e);r=u(l,"DIV",{class:!0});var i=d(r);c=h(i,it),i.forEach(m),l.forEach(m),g=v(s),E=u(s,"DIV",{class:!0});var o=d(E);_=u(o,"DIV",{class:!0});var n=d(_);R=h(n,"PO#"),n.forEach(m),P=v(o),w=u(o,"BR",{}),x=v(o),S=h(o,ot),o.forEach(m),A=v(s),q=u(s,"DIV",{class:!0});var f=d(q);N=h(f,nt),O=v(f),C=u(f,"BR",{}),U=v(f),T=u(f,"SPAN",{class:!0});var b=d(T);L=h(b,ut),b.forEach(m),f.forEach(m),j=v(s),W=u(s,"DIV",{class:!0});var p=d(W);G=u(p,"DIV",{class:!0});var I=d(G);Q=h(I,"Unit"),I.forEach(m),F=v(p),z=u(p,"BR",{}),J=v(p),K=h(p,dt),p.forEach(m),X=v(s),Z=u(s,"DIV",{class:!0});var y=d(Z);Y=u(y,"DIV",{class:!0});var $=d(Y);ta=h($,"Pieces"),$.forEach(m),ea=v(y),sa=u(y,"BR",{}),ra=v(y),ca=h(y,ht),y.forEach(m),la=v(s),ia=u(s,"DIV",{class:!0});var V=d(ia);oa=u(V,"DIV",{class:!0});var k=d(oa);na=h(k,"Quantity"),k.forEach(m),ua=v(V),da=u(V,"BR",{}),ha=v(V),ma=h(V,mt),V.forEach(m),va=v(s),fa=u(s,"DIV",{class:!0});var B=d(fa);ba=u(B,"DIV",{class:!0});var H=d(ba);pa=h(H,"Currency"),H.forEach(m),ga=v(B),Ea=u(B,"BR",{}),_a=v(B),Ia=h(B,vt),B.forEach(m),Da=v(s),ya=u(s,"DIV",{class:!0});var M=d(ya);$a=u(M,"DIV",{class:!0});var aa=d($a);Va=h(aa,"Unit Price"),aa.forEach(m),ka=v(M),Ba=u(M,"BR",{}),Ra=v(M),Pa=h(M,ft),M.forEach(m),wa=v(s),xa=u(s,"DIV",{class:!0});var Xa=d(xa);Sa=u(Xa,"DIV",{class:!0});var rt=d(Sa);Aa=h(rt,"Total"),rt.forEach(m),qa=v(Xa),Na=u(Xa,"BR",{}),Oa=v(Xa),Ca=h(Xa,bt),Xa.forEach(m),Ua=v(s),Ta=u(s,"DIV",{class:!0});var ct=d(Ta);La=u(ct,"DIV",{class:!0});var lt=d(La);Ha=h(lt,"Received"),lt.forEach(m),Ma=v(ct),ja=u(ct,"BR",{}),Wa=v(ct),Ga=h(ct,pt),ct.forEach(m),Qa=v(s),Fa=u(s,"DIV",{class:!0});var gt=d(Fa);za=u(gt,"A",{href:!0,class:!0});var Et=d(za);Ja=u(Et,"SPAN",{class:!0});var _t=d(Ja);D(Ka.$$.fragment,_t),_t.forEach(m),Et.forEach(m),Za=v(gt),Ya=u(gt,"BUTTON",{class:!0});var It=d(Ya);at=u(It,"SPAN",{class:!0});var Dt=d(at);D(tt.$$.fragment,Dt),Dt.forEach(m),It.forEach(m),gt.forEach(m),s.forEach(m),et=v(a),st=u(a,"HR",{}),this.h()},h(){f(r,"class","tag is-rounded has-text-weight-bold is-large"),f(e,"class","column is-narrow"),f(_,"class","tag is-rounded is-small"),f(E,"class","column has-text-centered"),f(T,"class","gray is-size-7"),f(q,"class","column is-3"),f(G,"class","tag is-rounded is-small"),f(W,"class","column has-text-centered"),f(Y,"class","tag is-rounded is-small"),f(Z,"class","column has-text-centered"),f(oa,"class","tag is-rounded is-small"),f(ia,"class","column has-text-centered"),f(ba,"class","tag is-rounded is-small"),f(fa,"class","column has-text-centered"),f($a,"class","tag is-rounded is-small"),f(ya,"class","column has-text-centered"),f(Sa,"class","tag is-rounded is-small"),f(xa,"class","column has-text-centered"),f(La,"class","tag is-rounded is-small has-text-weight-bold"),f(Ta,"class","column has-text-centered"),f(Ja,"class","icon"),f(za,"href",Xa="stocks/edit-item/"+a[54].id),f(za,"class","button is-info"),f(at,"class","icon"),f(Ya,"class","button is-danger ml-2"),f(Fa,"class","column has-text-right is-flex"),f(t,"class","columns")},m(a,s){l(a,t,s),b(t,e),b(e,r),b(r,c),b(t,g),b(t,E),b(E,_),b(_,R),b(E,P),b(E,w),b(E,x),b(E,S),b(t,A),b(t,q),b(q,N),b(q,O),b(q,C),b(q,U),b(q,T),b(T,L),b(t,j),b(t,W),b(W,G),b(G,Q),b(W,F),b(W,z),b(W,J),b(W,K),b(t,X),b(t,Z),b(Z,Y),b(Y,ta),b(Z,ea),b(Z,sa),b(Z,ra),b(Z,ca),b(t,la),b(t,ia),b(ia,oa),b(oa,na),b(ia,ua),b(ia,da),b(ia,ha),b(ia,ma),b(t,va),b(t,fa),b(fa,ba),b(ba,pa),b(fa,ga),b(fa,Ea),b(fa,_a),b(fa,Ia),b(t,Da),b(t,ya),b(ya,$a),b($a,Va),b(ya,ka),b(ya,Ba),b(ya,Ra),b(ya,Pa),b(t,wa),b(t,xa),b(xa,Sa),b(Sa,Aa),b(xa,qa),b(xa,Na),b(xa,Oa),b(xa,Ca),b(t,Ua),b(t,Ta),b(Ta,La),b(La,Ha),b(Ta,Ma),b(Ta,ja),b(Ta,Wa),b(Ta,Ga),b(t,Qa),b(t,Fa),b(Fa,za),b(za,Ja),y(Ka,Ja,null),b(Fa,Za),b(Fa,Ya),b(Ya,at),y(tt,at,null),l(a,et,s),l(a,st,s),rt=!0,ct||(lt=$(Ya,"click",gt),ct=!0)},p(t,e){a=t,(!rt||16&e[0])&&it!==(it=a[54].id+"")&&p(c,it),(!rt||16&e[0])&&ot!==(ot=a[54].attributes.purchase_order_item.data?.attributes.purchase_order.data?.attributes.poNumber+"")&&p(S,ot),(!rt||16&e[0])&&nt!==(nt=a[54].attributes.purchase_order_item.data?.attributes.item?.data?.attributes.name+"")&&p(N,nt),(!rt||16&e[0])&&ut!==(ut=a[54].attributes.remark+"")&&p(L,ut),(!rt||16&e[0])&&dt!==(dt=a[54].attributes.purchase_order_item.data?.attributes.unit+"")&&p(K,dt),(!rt||16&e[0])&&ht!==(ht=a[54].attributes.purchase_order_item.data?.attributes.pieces+"")&&p(ca,ht),(!rt||16&e[0])&&mt!==(mt=aa(a[54].attributes.purchase_order_item.data?.attributes.quantity)+"")&&p(ma,mt),(!rt||16&e[0])&&vt!==(vt=a[54].attributes.purchase_order_item.data?.attributes.currency+"")&&p(Ia,vt),(!rt||16&e[0])&&ft!==(ft=aa(a[54].attributes.purchase_order_item.data?.attributes.unitPrice)+"")&&p(Pa,ft),(!rt||16&e[0])&&bt!==(bt=aa(a[54].attributes.purchase_order_item.data?.attributes.unitPrice*a[54].attributes.purchase_order_item.data?.attributes.quantity)+"")&&p(Ca,bt),(!rt||16&e[0])&&pt!==(pt=aa(a[54].attributes.received)+"")&&p(Ga,pt),(!rt||16&e[0]&&Xa!==(Xa="stocks/edit-item/"+a[54].id))&&f(za,"href",Xa)},i(a){rt||(V(Ka.$$.fragment,a),V(tt.$$.fragment,a),rt=!0)},o(a){k(Ka.$$.fragment,a),k(tt.$$.fragment,a),rt=!1},d(a){a&&m(t),B(Ka),B(tt),a&&m(et),a&&m(st),ct=!1,lt()}}}function pa(a){let t,e,r,c,g,E,_,R,P,w,x,S,A,q,N,O,C,U,T,L,H,j,W,G,Q,F,z,J,K,X,Z,Y,ta,ea,sa,ra,ca,la,ia,oa,na,ua,da,ha,ma,va,fa,ba,pa,ga,Ea,_a,Ia,Da,ya,$a,Va,ka,Ba,Ra,Pa,wa,xa,Sa,Aa,qa,Na,Oa,Ca,Ua,Ta,La,Ha,Ma,ja,Wa,Ga,Qa,Fa,za,Ja,Ka,Xa,Za,Ya,at,tt=a[56]+1+"",et=a[54].purchase_order_item.label+"",st=a[54].remark+"",rt=a[54].po_no+"",ct=a[54].unit+"",lt=a[54].pieces+"",it=aa(a[54].quantity)+"",ot=a[54].currency+"",nt=aa(a[54].unitPrice)+"",ut=aa(a[54].unitPrice*a[54].quantity)+"",dt=aa(a[54].received)+"";function ht(){return a[40](a[56])}return Ja=new s({props:{data:M}}),{c(){t=i("div"),e=i("div"),r=i("div"),c=o(tt),g=n(),E=i("div"),_=o(et),R=n(),P=i("br"),w=n(),x=i("span"),S=o(st),A=n(),q=i("div"),N=i("div"),O=o("PO#"),C=n(),U=i("br"),T=n(),L=o(rt),H=n(),j=i("div"),W=i("div"),G=o("Unit"),Q=n(),F=i("br"),z=n(),J=o(ct),K=n(),X=i("div"),Z=i("div"),Y=o("Pieces"),ta=n(),ea=i("br"),sa=n(),ra=o(lt),ca=n(),la=i("div"),ia=i("div"),oa=o("Quantity"),na=n(),ua=i("br"),da=n(),ha=o(it),ma=n(),va=i("div"),fa=i("div"),ba=o("Currency"),pa=n(),ga=i("br"),Ea=n(),_a=o(ot),Ia=n(),Da=i("div"),ya=i("div"),$a=o("Unit Price"),Va=n(),ka=i("br"),Ba=n(),Ra=o(nt),Pa=n(),wa=i("div"),xa=i("div"),Sa=o("Total"),Aa=n(),qa=i("br"),Na=n(),Oa=o(ut),Ca=n(),Ua=i("div"),Ta=i("div"),La=o("Received"),Ha=n(),Ma=i("br"),ja=n(),Wa=o(dt),Ga=n(),Qa=i("div"),Fa=i("button"),za=i("span"),I(Ja.$$.fragment),Ka=n(),Xa=i("hr"),this.h()},l(a){t=u(a,"DIV",{class:!0});var s=d(t);e=u(s,"DIV",{class:!0});var l=d(e);r=u(l,"DIV",{class:!0});var i=d(r);c=h(i,tt),i.forEach(m),l.forEach(m),g=v(s),E=u(s,"DIV",{class:!0});var o=d(E);_=h(o,et),R=v(o),P=u(o,"BR",{}),w=v(o),x=u(o,"SPAN",{class:!0});var n=d(x);S=h(n,st),n.forEach(m),o.forEach(m),A=v(s),q=u(s,"DIV",{class:!0});var f=d(q);N=u(f,"DIV",{class:!0});var b=d(N);O=h(b,"PO#"),b.forEach(m),C=v(f),U=u(f,"BR",{}),T=v(f),L=h(f,rt),f.forEach(m),H=v(s),j=u(s,"DIV",{class:!0});var p=d(j);W=u(p,"DIV",{class:!0});var I=d(W);G=h(I,"Unit"),I.forEach(m),Q=v(p),F=u(p,"BR",{}),z=v(p),J=h(p,ct),p.forEach(m),K=v(s),X=u(s,"DIV",{class:!0});var y=d(X);Z=u(y,"DIV",{class:!0});var $=d(Z);Y=h($,"Pieces"),$.forEach(m),ta=v(y),ea=u(y,"BR",{}),sa=v(y),ra=h(y,lt),y.forEach(m),ca=v(s),la=u(s,"DIV",{class:!0});var V=d(la);ia=u(V,"DIV",{class:!0});var k=d(ia);oa=h(k,"Quantity"),k.forEach(m),na=v(V),ua=u(V,"BR",{}),da=v(V),ha=h(V,it),V.forEach(m),ma=v(s),va=u(s,"DIV",{class:!0});var B=d(va);fa=u(B,"DIV",{class:!0});var M=d(fa);ba=h(M,"Currency"),M.forEach(m),pa=v(B),ga=u(B,"BR",{}),Ea=v(B),_a=h(B,ot),B.forEach(m),Ia=v(s),Da=u(s,"DIV",{class:!0});var aa=d(Da);ya=u(aa,"DIV",{class:!0});var Za=d(ya);$a=h(Za,"Unit Price"),Za.forEach(m),Va=v(aa),ka=u(aa,"BR",{}),Ba=v(aa),Ra=h(aa,nt),aa.forEach(m),Pa=v(s),wa=u(s,"DIV",{class:!0});var Ya=d(wa);xa=u(Ya,"DIV",{class:!0});var at=d(xa);Sa=h(at,"Total"),at.forEach(m),Aa=v(Ya),qa=u(Ya,"BR",{}),Na=v(Ya),Oa=h(Ya,ut),Ya.forEach(m),Ca=v(s),Ua=u(s,"DIV",{class:!0});var ht=d(Ua);Ta=u(ht,"DIV",{class:!0});var mt=d(Ta);La=h(mt,"Received"),mt.forEach(m),Ha=v(ht),Ma=u(ht,"BR",{}),ja=v(ht),Wa=h(ht,dt),ht.forEach(m),Ga=v(s),Qa=u(s,"DIV",{class:!0});var vt=d(Qa);Fa=u(vt,"BUTTON",{class:!0});var ft=d(Fa);za=u(ft,"SPAN",{class:!0});var bt=d(za);D(Ja.$$.fragment,bt),bt.forEach(m),ft.forEach(m),vt.forEach(m),s.forEach(m),Ka=v(a),Xa=u(a,"HR",{}),this.h()},h(){f(r,"class","tag is-rounded has-text-weight-bold is-large"),f(e,"class","column is-narrow"),f(x,"class","gray is-size-7"),f(E,"class","column is-3"),f(N,"class","tag is-rounded is-small"),f(q,"class","column has-text-centered"),f(W,"class","tag is-rounded is-small"),f(j,"class","column has-text-centered"),f(Z,"class","tag is-rounded is-small"),f(X,"class","column has-text-centered"),f(ia,"class","tag is-rounded is-small"),f(la,"class","column has-text-centered"),f(fa,"class","tag is-rounded is-small"),f(va,"class","column has-text-centered"),f(ya,"class","tag is-rounded is-small"),f(Da,"class","column has-text-centered"),f(xa,"class","tag is-rounded is-small"),f(wa,"class","column has-text-centered"),f(Ta,"class","tag is-rounded is-small has-text-weight-bold"),f(Ua,"class","column has-text-centered"),f(za,"class","icon"),f(Fa,"class","button is-danger"),f(Qa,"class","column has-text-right"),f(t,"class","columns")},m(a,s){l(a,t,s),b(t,e),b(e,r),b(r,c),b(t,g),b(t,E),b(E,_),b(E,R),b(E,P),b(E,w),b(E,x),b(x,S),b(t,A),b(t,q),b(q,N),b(N,O),b(q,C),b(q,U),b(q,T),b(q,L),b(t,H),b(t,j),b(j,W),b(W,G),b(j,Q),b(j,F),b(j,z),b(j,J),b(t,K),b(t,X),b(X,Z),b(Z,Y),b(X,ta),b(X,ea),b(X,sa),b(X,ra),b(t,ca),b(t,la),b(la,ia),b(ia,oa),b(la,na),b(la,ua),b(la,da),b(la,ha),b(t,ma),b(t,va),b(va,fa),b(fa,ba),b(va,pa),b(va,ga),b(va,Ea),b(va,_a),b(t,Ia),b(t,Da),b(Da,ya),b(ya,$a),b(Da,Va),b(Da,ka),b(Da,Ba),b(Da,Ra),b(t,Pa),b(t,wa),b(wa,xa),b(xa,Sa),b(wa,Aa),b(wa,qa),b(wa,Na),b(wa,Oa),b(t,Ca),b(t,Ua),b(Ua,Ta),b(Ta,La),b(Ua,Ha),b(Ua,Ma),b(Ua,ja),b(Ua,Wa),b(t,Ga),b(t,Qa),b(Qa,Fa),b(Fa,za),y(Ja,za,null),l(a,Ka,s),l(a,Xa,s),Za=!0,Ya||(at=$(Fa,"click",ht),Ya=!0)},p(t,e){a=t,(!Za||8&e[0])&&et!==(et=a[54].purchase_order_item.label+"")&&p(_,et),(!Za||8&e[0])&&st!==(st=a[54].remark+"")&&p(S,st),(!Za||8&e[0])&&rt!==(rt=a[54].po_no+"")&&p(L,rt),(!Za||8&e[0])&&ct!==(ct=a[54].unit+"")&&p(J,ct),(!Za||8&e[0])&&lt!==(lt=a[54].pieces+"")&&p(ra,lt),(!Za||8&e[0])&&it!==(it=aa(a[54].quantity)+"")&&p(ha,it),(!Za||8&e[0])&&ot!==(ot=a[54].currency+"")&&p(_a,ot),(!Za||8&e[0])&&nt!==(nt=aa(a[54].unitPrice)+"")&&p(Ra,nt),(!Za||8&e[0])&&ut!==(ut=aa(a[54].unitPrice*a[54].quantity)+"")&&p(Oa,ut),(!Za||8&e[0])&&dt!==(dt=aa(a[54].received)+"")&&p(Wa,dt)},i(a){Za||(V(Ja.$$.fragment,a),Za=!0)},o(a){k(Ja.$$.fragment,a),Za=!1},d(a){a&&m(t),B(Ja),a&&m(Ka),a&&m(Xa),Ya=!1,at()}}}function ga(a){let t,e;return{c(){t=i("p"),e=o("Purchase Order is required"),this.h()},l(a){t=u(a,"P",{class:!0});var s=d(t);e=h(s,"Purchase Order is required"),s.forEach(m),this.h()},h(){f(t,"class","help is-danger")},m(a,s){l(a,t,s),b(t,e)},d(a){a&&m(t)}}}function Ea(a){let t,e;return{c(){t=i("p"),e=o("Purchase Order Item is required"),this.h()},l(a){t=u(a,"P",{class:!0});var s=d(t);e=h(s,"Purchase Order Item is required"),s.forEach(m),this.h()},h(){f(t,"class","help is-danger")},m(a,s){l(a,t,s),b(t,e)},d(a){a&&m(t)}}}function _a(a){let t,e;return{c(){t=i("p"),e=o("Received is required"),this.h()},l(a){t=u(a,"P",{class:!0});var s=d(t);e=h(s,"Received is required"),s.forEach(m),this.h()},h(){f(t,"class","help is-danger")},m(a,s){l(a,t,s),b(t,e)},d(a){a&&m(t)}}}function Ia(a){let t,e,s,r,f,p,E=a[2],_=[];for(let t=0;t<E.length;t+=1)_[t]=Da(la(a,E,t));return{c(){t=i("h5"),e=o("Stock History"),s=n(),r=i("hr"),f=n();for(let a=0;a<_.length;a+=1)_[a].c();p=c()},l(a){t=u(a,"H5",{});var l=d(t);e=h(l,"Stock History"),l.forEach(m),s=v(a),r=u(a,"HR",{}),f=v(a);for(let t=0;t<_.length;t+=1)_[t].l(a);p=c()},m(a,c){l(a,t,c),b(t,e),l(a,s,c),l(a,r,c),l(a,f,c);for(let t=0;t<_.length;t+=1)_[t].m(a,c);l(a,p,c)},p(a,t){if(4&t[0]){let e;for(E=a[2],e=0;e<E.length;e+=1){const s=la(a,E,e);_[e]?_[e].p(s,t):(_[e]=Da(s),_[e].c(),_[e].m(p.parentNode,p))}for(;e<_.length;e+=1)_[e].d(1);_.length=E.length}},d(a){a&&m(t),a&&m(s),a&&m(r),a&&m(f),g(_,a),a&&m(p)}}}function Da(a){let t,e,s,r,c,g,E,_,I,D,y,$,V,k,B,R,P,w,x,S,A,q,N,O,C,U,T,L,H,M,j,W,G,Q,F,z,J,K,X,Z,Y,aa,ta,ea,sa,ra,ca,la,ia,oa,na,ua,da,ha,ma,va,fa,ba,pa,ga,Ea,_a,Ia,Da,ya,$a,Va,ka,Ba,Ra,Pa,wa,xa,Sa,Aa,qa,Na,Oa,Ca,Ua,Ta,La,Ha,Ma,ja,Wa,Ga=a[51].attributes.stock.data.id+"",Qa=a[51].attributes.stock.data.attributes.date+"",Fa=a[51].attributes.stock.data.attributes.consortium_member?.data.attributes.name+"",za=a[51].attributes.stock.data.attributes.warehouse?.data.attributes.name+"",Ja=a[51].id+"",Ka=a[51].attributes.purchase_order_item?.data?.attributes.item?.data?.attributes.name+"",Xa=a[51].attributes.purchase_order_item?.data?.id+"",Za=a[51].attributes.purchase_order_item?.data?.attributes.item?.data?.attributes.category+"",Ya=a[51].attributes.purchase_order_item?.data?.attributes.unit+"",at=a[51].attributes.purchase_order_item?.data?.attributes.pieces+"",tt=a[51].attributes.purchase_order_item?.data?.attributes.quantity+"",et=a[51].attributes.purchase_order_item?.data?.attributes.unitPrice+"",st=a[51].attributes.purchase_order_item?.data?.attributes.currency+"",rt=a[51].attributes.received+"",ct=a[51].attributes.remark+"";return{c(){t=i("div"),e=i("div"),s=o(Ga),r=n(),c=i("div"),g=o(Qa),E=n(),_=i("div"),I=o(Fa),D=n(),y=i("div"),$=o(za),V=n(),k=i("div"),B=i("div"),R=o(Ja),P=n(),w=i("div"),x=i("span"),S=o(Ka),A=o("  - ("),q=o(Xa),N=o(")"),O=n(),C=i("br"),U=n(),T=i("span"),L=o(Za),H=n(),M=i("div"),j=i("span"),W=o("Unit"),G=n(),Q=i("br"),F=n(),z=o(Ya),J=n(),K=i("div"),X=i("span"),Z=o("Pieces"),Y=n(),aa=i("br"),ta=n(),ea=o(at),sa=n(),ra=i("div"),ca=i("span"),la=o("Quantity"),ia=n(),oa=i("br"),na=n(),ua=o(tt),da=n(),ha=i("div"),ma=i("span"),va=o("Unit Price"),fa=n(),ba=i("br"),pa=n(),ga=o(et),Ea=n(),_a=i("div"),Ia=i("span"),Da=o("Currency"),ya=n(),$a=i("br"),Va=n(),ka=o(st),Ba=n(),Ra=i("div"),Pa=i("span"),wa=o("Received"),xa=n(),Sa=i("br"),Aa=n(),qa=o(rt),Na=n(),Oa=i("div"),Ca=i("span"),Ua=o("Remark"),Ta=n(),La=i("br"),Ha=n(),Ma=o(ct),ja=n(),Wa=i("hr"),this.h()},l(a){t=u(a,"DIV",{class:!0});var l=d(t);e=u(l,"DIV",{class:!0});var i=d(e);s=h(i,Ga),i.forEach(m),r=v(l),c=u(l,"DIV",{class:!0});var o=d(c);g=h(o,Qa),o.forEach(m),E=v(l),_=u(l,"DIV",{class:!0});var n=d(_);I=h(n,Fa),n.forEach(m),D=v(l),y=u(l,"DIV",{class:!0});var f=d(y);$=h(f,za),f.forEach(m),l.forEach(m),V=v(a),k=u(a,"DIV",{class:!0});var b=d(k);B=u(b,"DIV",{class:!0});var p=d(B);R=h(p,Ja),p.forEach(m),P=v(b),w=u(b,"DIV",{class:!0});var lt=d(w);x=u(lt,"SPAN",{class:!0});var it=d(x);S=h(it,Ka),A=h(it,"  - ("),q=h(it,Xa),N=h(it,")"),it.forEach(m),O=v(lt),C=u(lt,"BR",{}),U=v(lt),T=u(lt,"SPAN",{class:!0});var ot=d(T);L=h(ot,Za),ot.forEach(m),lt.forEach(m),H=v(b),M=u(b,"DIV",{class:!0});var nt=d(M);j=u(nt,"SPAN",{class:!0});var ut=d(j);W=h(ut,"Unit"),ut.forEach(m),G=v(nt),Q=u(nt,"BR",{}),F=v(nt),z=h(nt,Ya),nt.forEach(m),J=v(b),K=u(b,"DIV",{class:!0});var dt=d(K);X=u(dt,"SPAN",{class:!0});var ht=d(X);Z=h(ht,"Pieces"),ht.forEach(m),Y=v(dt),aa=u(dt,"BR",{}),ta=v(dt),ea=h(dt,at),dt.forEach(m),sa=v(b),ra=u(b,"DIV",{class:!0});var mt=d(ra);ca=u(mt,"SPAN",{class:!0});var vt=d(ca);la=h(vt,"Quantity"),vt.forEach(m),ia=v(mt),oa=u(mt,"BR",{}),na=v(mt),ua=h(mt,tt),mt.forEach(m),da=v(b),ha=u(b,"DIV",{class:!0});var ft=d(ha);ma=u(ft,"SPAN",{class:!0});var bt=d(ma);va=h(bt,"Unit Price"),bt.forEach(m),fa=v(ft),ba=u(ft,"BR",{}),pa=v(ft),ga=h(ft,et),ft.forEach(m),Ea=v(b),_a=u(b,"DIV",{class:!0});var pt=d(_a);Ia=u(pt,"SPAN",{class:!0});var gt=d(Ia);Da=h(gt,"Currency"),gt.forEach(m),ya=v(pt),$a=u(pt,"BR",{}),Va=v(pt),ka=h(pt,st),pt.forEach(m),Ba=v(b),Ra=u(b,"DIV",{class:!0});var Et=d(Ra);Pa=u(Et,"SPAN",{class:!0});var _t=d(Pa);wa=h(_t,"Received"),_t.forEach(m),xa=v(Et),Sa=u(Et,"BR",{}),Aa=v(Et),qa=h(Et,rt),Et.forEach(m),Na=v(b),Oa=u(b,"DIV",{class:!0});var It=d(Oa);Ca=u(It,"SPAN",{class:!0});var Dt=d(Ca);Ua=h(Dt,"Remark"),Dt.forEach(m),Ta=v(It),La=u(It,"BR",{}),Ha=v(It),Ma=h(It,ct),It.forEach(m),b.forEach(m),ja=v(a),Wa=u(a,"HR",{}),this.h()},h(){f(e,"class","column is-narrow"),f(c,"class","column"),f(_,"class","column"),f(y,"class","column"),f(t,"class","columns has-text-weight-bold"),f(B,"class","column is-narrow gray"),f(x,"class",""),f(T,"class","gray"),f(w,"class","column is-3"),f(j,"class","is-small tag"),f(M,"class","column has-text-centered"),f(X,"class","is-small tag"),f(K,"class","column has-text-centered"),f(ca,"class","is-small tag"),f(ra,"class","column has-text-centered"),f(ma,"class","is-small tag"),f(ha,"class","column has-text-centered"),f(Ia,"class","is-small tag"),f(_a,"class","column has-text-centered"),f(Pa,"class","is-small tag"),f(Ra,"class","column has-text-centered"),f(Ca,"class","is-small tag"),f(Oa,"class","column has-text-centered"),f(k,"class","columns")},m(a,i){l(a,t,i),b(t,e),b(e,s),b(t,r),b(t,c),b(c,g),b(t,E),b(t,_),b(_,I),b(t,D),b(t,y),b(y,$),l(a,V,i),l(a,k,i),b(k,B),b(B,R),b(k,P),b(k,w),b(w,x),b(x,S),b(x,A),b(x,q),b(x,N),b(w,O),b(w,C),b(w,U),b(w,T),b(T,L),b(k,H),b(k,M),b(M,j),b(j,W),b(M,G),b(M,Q),b(M,F),b(M,z),b(k,J),b(k,K),b(K,X),b(X,Z),b(K,Y),b(K,aa),b(K,ta),b(K,ea),b(k,sa),b(k,ra),b(ra,ca),b(ca,la),b(ra,ia),b(ra,oa),b(ra,na),b(ra,ua),b(k,da),b(k,ha),b(ha,ma),b(ma,va),b(ha,fa),b(ha,ba),b(ha,pa),b(ha,ga),b(k,Ea),b(k,_a),b(_a,Ia),b(Ia,Da),b(_a,ya),b(_a,$a),b(_a,Va),b(_a,ka),b(k,Ba),b(k,Ra),b(Ra,Pa),b(Pa,wa),b(Ra,xa),b(Ra,Sa),b(Ra,Aa),b(Ra,qa),b(k,Na),b(k,Oa),b(Oa,Ca),b(Ca,Ua),b(Oa,Ta),b(Oa,La),b(Oa,Ha),b(Oa,Ma),l(a,ja,i),l(a,Wa,i)},p(a,t){4&t[0]&&Ga!==(Ga=a[51].attributes.stock.data.id+"")&&p(s,Ga),4&t[0]&&Qa!==(Qa=a[51].attributes.stock.data.attributes.date+"")&&p(g,Qa),4&t[0]&&Fa!==(Fa=a[51].attributes.stock.data.attributes.consortium_member?.data.attributes.name+"")&&p(I,Fa),4&t[0]&&za!==(za=a[51].attributes.stock.data.attributes.warehouse?.data.attributes.name+"")&&p($,za),4&t[0]&&Ja!==(Ja=a[51].id+"")&&p(R,Ja),4&t[0]&&Ka!==(Ka=a[51].attributes.purchase_order_item?.data?.attributes.item?.data?.attributes.name+"")&&p(S,Ka),4&t[0]&&Xa!==(Xa=a[51].attributes.purchase_order_item?.data?.id+"")&&p(q,Xa),4&t[0]&&Za!==(Za=a[51].attributes.purchase_order_item?.data?.attributes.item?.data?.attributes.category+"")&&p(L,Za),4&t[0]&&Ya!==(Ya=a[51].attributes.purchase_order_item?.data?.attributes.unit+"")&&p(z,Ya),4&t[0]&&at!==(at=a[51].attributes.purchase_order_item?.data?.attributes.pieces+"")&&p(ea,at),4&t[0]&&tt!==(tt=a[51].attributes.purchase_order_item?.data?.attributes.quantity+"")&&p(ua,tt),4&t[0]&&et!==(et=a[51].attributes.purchase_order_item?.data?.attributes.unitPrice+"")&&p(ga,et),4&t[0]&&st!==(st=a[51].attributes.purchase_order_item?.data?.attributes.currency+"")&&p(ka,st),4&t[0]&&rt!==(rt=a[51].attributes.received+"")&&p(qa,rt),4&t[0]&&ct!==(ct=a[51].attributes.remark+"")&&p(Ma,ct)},d(a){a&&m(t),a&&m(V),a&&m(k),a&&m(ja),a&&m(Wa)}}}function ya(a){let t,e;return t=new ra({}),t.$on("confirm",a[31]),t.$on("dismiss",a[45]),{c(){I(t.$$.fragment)},l(a){D(t.$$.fragment,a)},m(a,s){y(t,a,s),e=!0},p:P,i(a){e||(V(t.$$.fragment,a),e=!0)},o(a){k(t.$$.fragment,a),e=!1},d(a){B(t,a)}}}function $a(a){let t,e,P,L,H,M,W,G,Q,F,z,J,K,X,Z,Y,sa,ra,ca,la,ua,ha,Da,$a,Va,ka,Ba,Ra,Pa,wa,xa,Sa,Aa,qa,Na,Oa,Ca,Ua,Ta,La,Ha,Ma,ja,Wa,Ga,Qa,Fa,za,Ja,Ka,Xa,Za,Ya,at,tt,et,st,rt,ct,lt,it,ot,nt,ut,dt,ht,mt,vt,ft,bt,pt,gt,Et,_t,It,Dt,yt,$t,Vt,kt,Bt,Rt,Pt,wt,xt,St,At,qt,Nt,Ot,Ct,Ut,Tt,Lt,Ht,Mt,jt,Wt,Gt,Qt,Ft,zt,Jt,Kt,Xt,Zt,Yt,ae,te,ee,se,re,ce,le,ie,oe,ne,ue,de,he,me,ve,fe,be,pe,ge,Ee,_e,Ie,De,ye,$e,Ve,ke,Be,Re,Pe,we,xe,Se,Ae,qe,Ne,Oe,Ce,Ue,Te,Le,He,Me,je,We,Ge,Qe,Fe,ze,Je,Ke,Xe,Ze,Ye,as,ts,es,ss=a[18].hasError("warehouse.required"),rs=a[18].hasError("consortium_member.required"),cs=a[15].hasError("purchase_order.required"),ls=a[15].hasError("purchase_order_item.required"),is=a[15].hasError("received.required"),os=aa(a[1])+"",ns=aa(a[1]-a[12].value)+"";G=new s({props:{data:r}});let us=a[9]&&da(a),ds=a[6],hs=[];for(let t=0;t<ds.length;t+=1)hs[t]=ma(na(a,ds,t));let ms=ss&&va();function vs(t){a[37](t)}let fs={items:a[5],listAutoWidth:!0};void 0!==a[11].value&&(fs.value=a[11].value),Za=new ta({props:fs}),E.push((()=>_(Za,"value",vs))),Za.$on("select",a[32]);let bs=rs&&fa();function ps(t){a[38](t)}let gs={format:"yyyy/MM/dd",placeholder:"2000/31/12",closeOnSelection:!0,min:new Date("1920/1/1"),class:"input"};void 0!==a[16].value&&(gs.value=a[16].value),ut=new ea({props:gs}),E.push((()=>_(ut,"value",ps)));let Es=a[4],_s=[];for(let t=0;t<Es.length;t+=1)_s[t]=ba(oa(a,Es,t));const Is=a=>k(_s[a],1,1,(()=>{_s[a]=null}));let Ds=a[3],ys=[];for(let t=0;t<Ds.length;t+=1)ys[t]=pa(ia(a,Ds,t));const $s=a=>k(ys[a],1,1,(()=>{ys[a]=null}));function Vs(t){a[41](t)}Ht=new s({props:{data:R}});let ks={items:a[7],listAutoWidth:!0};void 0!==a[14].value&&(ks.value=a[14].value),ae=new ta({props:ks}),E.push((()=>_(ae,"value",Vs))),ae.$on("select",a[33]);let Bs=cs&&ga();function Rs(t){a[42](t)}let Ps={items:a[8]};void 0!==a[13].value&&(Ps.value=a[13].value),de=new ta({props:Ps}),E.push((()=>_(de,"value",Rs))),de.$on("select",a[34]);let ws=ls&&Ea(),xs=is&&_a(),Ss=a[2]&&Ia(a),As=a[10]&&ya(a);return{c(){t=n(),e=i("br"),P=i("br"),L=n(),H=i("div"),M=i("a"),W=i("span"),I(G.$$.fragment),Q=o(" Back"),F=n(),z=i("br"),J=i("br"),K=n(),X=i("div"),Z=i("br"),Y=i("br"),sa=n(),ra=i("div"),ca=i("div"),la=i("h3"),ua=o("Edit Stock"),ha=n(),Da=i("p"),$a=o("Complete the form below and click save."),Va=n(),ka=i("div"),Ba=i("button"),Ra=o("Save"),wa=n(),xa=i("br"),Sa=n(),us&&us.c(),Aa=n(),qa=i("form"),Na=i("div"),Oa=i("div"),Ca=i("div"),Ua=i("label"),Ta=o("Warehouse"),La=i("br"),Ha=n(),Ma=i("div"),ja=i("select");for(let a=0;a<hs.length;a+=1)hs[a].c();Wa=n(),ms&&ms.c(),Ga=n(),Qa=i("div"),Fa=i("div"),za=i("label"),Ja=o("Consortium Member (*)"),Ka=n(),Xa=i("div"),I(Za.$$.fragment),at=n(),bs&&bs.c(),tt=n(),et=i("div"),st=i("div"),rt=i("div"),ct=i("label"),lt=o("Date"),it=i("br"),ot=n(),nt=i("div"),I(ut.$$.fragment),ht=n(),mt=i("div"),vt=n(),ft=i("br"),bt=i("br"),pt=n(),gt=i("br"),Et=n(),_t=i("h5"),It=o("Existing Items"),Dt=n(),yt=i("hr"),$t=n();for(let a=0;a<_s.length;a+=1)_s[a].c();Vt=n(),kt=i("h5"),Bt=o("New Items"),Rt=n(),Pt=i("hr"),wt=n();for(let a=0;a<ys.length;a+=1)ys[a].c();xt=n(),St=i("form"),At=i("div"),qt=i("div"),Nt=i("h4"),Ot=o("Stock Items"),Ct=n(),Ut=i("div"),Tt=i("button"),Lt=i("span"),I(Ht.$$.fragment),Mt=n(),jt=i("span"),Wt=o("Add a Stock Item"),Qt=n(),Ft=i("div"),zt=i("div"),Jt=i("div"),Kt=i("label"),Xt=o("Purchase Order (*)"),Zt=n(),Yt=i("div"),I(ae.$$.fragment),ee=n(),Bs&&Bs.c(),se=n(),re=i("div"),ce=i("div"),le=i("div"),ie=i("label"),oe=o("Item (*)"),ne=n(),ue=i("div"),I(de.$$.fragment),me=n(),ws&&ws.c(),ve=n(),fe=i("div"),be=i("div"),pe=i("label"),ge=o("Received"),Ee=i("br"),_e=n(),Ie=i("input"),De=n(),xs&&xs.c(),ye=n(),$e=i("div"),Ve=i("div"),ke=i("label"),Be=o("Remark"),Re=i("br"),Pe=n(),we=i("div"),xe=i("textarea"),Se=n(),Ae=i("div"),qe=i("div"),Ne=i("br"),Oe=n(),Ce=i("span"),Ue=o("Remaining Amount -"),Te=n(),Le=o(os),He=n(),Me=i("br"),je=n(),We=i("span"),Ge=o("Differnece -"),Qe=n(),Fe=o(ns),ze=n(),Ss&&Ss.c(),Je=n(),Ke=i("br"),Xe=i("br"),Ze=n(),As&&As.c(),Ye=c(),this.h()},l(a){w('[data-svelte="svelte-iax9gz"]',document.head).forEach(m),t=v(a),e=u(a,"BR",{}),P=u(a,"BR",{}),L=v(a),H=u(a,"DIV",{class:!0});var s=d(H);M=u(s,"A",{href:!0,class:!0});var r=d(M);W=u(r,"SPAN",{class:!0});var l=d(W);D(G.$$.fragment,l),l.forEach(m),Q=h(r," Back"),r.forEach(m),F=v(s),z=u(s,"BR",{}),J=u(s,"BR",{}),K=v(s),X=u(s,"DIV",{class:!0});var i=d(X);Z=u(i,"BR",{}),Y=u(i,"BR",{}),sa=v(i),ra=u(i,"DIV",{class:!0});var o=d(ra);ca=u(o,"DIV",{class:!0});var n=d(ca);la=u(n,"H3",{class:!0});var f=d(la);ua=h(f,"Edit Stock"),f.forEach(m),ha=v(n),Da=u(n,"P",{class:!0});var b=d(Da);$a=h(b,"Complete the form below and click save."),b.forEach(m),n.forEach(m),Va=v(o),ka=u(o,"DIV",{class:!0});var p=d(ka);Ba=u(p,"BUTTON",{class:!0});var g=d(Ba);Ra=h(g,"Save"),g.forEach(m),p.forEach(m),o.forEach(m),wa=v(i),xa=u(i,"BR",{}),Sa=v(i),us&&us.l(i),Aa=v(i),qa=u(i,"FORM",{});var E=d(qa);Na=u(E,"DIV",{class:!0});var _=d(Na);Oa=u(_,"DIV",{class:!0});var I=d(Oa);Ca=u(I,"DIV",{class:!0});var y=d(Ca);Ua=u(y,"LABEL",{for:!0,class:!0});var $=d(Ua);Ta=h($,"Warehouse"),$.forEach(m),La=u(y,"BR",{}),Ha=v(y),Ma=u(y,"DIV",{class:!0});var V=d(Ma);ja=u(V,"SELECT",{name:!0});var k=d(ja);for(let a=0;a<hs.length;a+=1)hs[a].l(k);k.forEach(m),V.forEach(m),Wa=v(y),ms&&ms.l(y),y.forEach(m),I.forEach(m),Ga=v(_),Qa=u(_,"DIV",{class:!0});var B=d(Qa);Fa=u(B,"DIV",{class:!0});var R=d(Fa);za=u(R,"LABEL",{for:!0,class:!0});var x=d(za);Ja=h(x,"Consortium Member (*)"),x.forEach(m),Ka=v(R),Xa=u(R,"DIV",{class:!0});var S=d(Xa);D(Za.$$.fragment,S),S.forEach(m),at=v(R),bs&&bs.l(R),R.forEach(m),B.forEach(m),_.forEach(m),tt=v(E),et=u(E,"DIV",{class:!0});var A=d(et);st=u(A,"DIV",{class:!0});var q=d(st);rt=u(q,"DIV",{class:!0});var N=d(rt);ct=u(N,"LABEL",{for:!0,class:!0});var O=d(ct);lt=h(O,"Date"),O.forEach(m),it=u(N,"BR",{}),ot=v(N),nt=u(N,"DIV",{class:!0});var C=d(nt);D(ut.$$.fragment,C),C.forEach(m),N.forEach(m),q.forEach(m),ht=v(A),mt=u(A,"DIV",{class:!0}),d(mt).forEach(m),A.forEach(m),vt=v(E),ft=u(E,"BR",{}),bt=u(E,"BR",{}),pt=v(E),gt=u(E,"BR",{}),E.forEach(m),Et=v(i),_t=u(i,"H5",{});var U=d(_t);It=h(U,"Existing Items"),U.forEach(m),Dt=v(i),yt=u(i,"HR",{}),$t=v(i);for(let a=0;a<_s.length;a+=1)_s[a].l(i);Vt=v(i),kt=u(i,"H5",{});var T=d(kt);Bt=h(T,"New Items"),T.forEach(m),Rt=v(i),Pt=u(i,"HR",{}),wt=v(i);for(let a=0;a<ys.length;a+=1)ys[a].l(i);xt=v(i),St=u(i,"FORM",{});var j=d(St);At=u(j,"DIV",{class:!0});var aa=d(At);qt=u(aa,"DIV",{class:!0});var ta=d(qt);Nt=u(ta,"H4",{class:!0});var ea=d(Nt);Ot=h(ea,"Stock Items"),ea.forEach(m),ta.forEach(m),Ct=v(aa),Ut=u(aa,"DIV",{class:!0});var ia=d(Ut);Tt=u(ia,"BUTTON",{class:!0});var oa=d(Tt);Lt=u(oa,"SPAN",{class:!0});var na=d(Lt);D(Ht.$$.fragment,na),na.forEach(m),Mt=v(oa),jt=u(oa,"SPAN",{class:!0});var da=d(jt);Wt=h(da,"Add a Stock Item"),da.forEach(m),oa.forEach(m),ia.forEach(m),aa.forEach(m),Qt=v(j),Ft=u(j,"DIV",{class:!0});var ma=d(Ft);zt=u(ma,"DIV",{class:!0});var va=d(zt);Jt=u(va,"DIV",{class:!0});var fa=d(Jt);Kt=u(fa,"LABEL",{for:!0,class:!0});var ba=d(Kt);Xt=h(ba,"Purchase Order (*)"),ba.forEach(m),Zt=v(fa),Yt=u(fa,"DIV",{class:!0});var pa=d(Yt);D(ae.$$.fragment,pa),pa.forEach(m),ee=v(fa),Bs&&Bs.l(fa),fa.forEach(m),va.forEach(m),ma.forEach(m),se=v(j),re=u(j,"DIV",{class:!0});var ga=d(re);ce=u(ga,"DIV",{class:!0});var Ea=d(ce);le=u(Ea,"DIV",{class:!0});var _a=d(le);ie=u(_a,"LABEL",{for:!0,class:!0});var Ia=d(ie);oe=h(Ia,"Item (*)"),Ia.forEach(m),ne=v(_a),ue=u(_a,"DIV",{class:!0});var ya=d(ue);D(de.$$.fragment,ya),ya.forEach(m),me=v(_a),ws&&ws.l(_a),_a.forEach(m),Ea.forEach(m),ga.forEach(m),ve=v(j),fe=u(j,"DIV",{class:!0});var Pa=d(fe);be=u(Pa,"DIV",{class:!0});var Ya=d(be);pe=u(Ya,"LABEL",{for:!0,class:!0});var dt=d(pe);ge=h(dt,"Received"),dt.forEach(m),Ee=u(Ya,"BR",{}),_e=v(Ya),Ie=u(Ya,"INPUT",{type:!0,placeholder:!0,class:!0}),De=v(Ya),xs&&xs.l(Ya),Ya.forEach(m),ye=v(Pa),$e=u(Pa,"DIV",{class:!0});var Gt=d($e);Ve=u(Gt,"DIV",{class:!0});var te=d(Ve);ke=u(te,"LABEL",{for:!0,class:!0});var he=d(ke);Be=h(he,"Remark"),he.forEach(m),Re=u(te,"BR",{}),Pe=v(te),we=u(te,"DIV",{class:!0});var as=d(we);xe=u(as,"TEXTAREA",{rows:!0,class:!0}),d(xe).forEach(m),as.forEach(m),te.forEach(m),Gt.forEach(m),Pa.forEach(m),Se=v(j),Ae=u(j,"DIV",{class:!0});var ts=d(Ae);qe=u(ts,"DIV",{class:!0});var es=d(qe);Ne=u(es,"BR",{}),Oe=v(es),Ce=u(es,"SPAN",{class:!0});var ss=d(Ce);Ue=h(ss,"Remaining Amount -"),ss.forEach(m),Te=v(es),Le=h(es,os),He=v(es),Me=u(es,"BR",{}),je=v(es),We=u(es,"SPAN",{class:!0});var rs=d(We);Ge=h(rs,"Differnece -"),rs.forEach(m),Qe=v(es),Fe=h(es,ns),es.forEach(m),ts.forEach(m),ze=v(j),Ss&&Ss.l(j),j.forEach(m),Je=v(i),Ke=u(i,"BR",{}),Xe=u(i,"BR",{}),i.forEach(m),s.forEach(m),Ze=v(a),As&&As.l(a),Ye=c(),this.h()},h(){document.title="Edit Stock",f(W,"class","icon is-small"),f(M,"href","stocks"),f(M,"class","has-text-dark"),f(la,"class","my-0"),f(Da,"class","gray py-0"),f(ca,"class","column"),Ba.disabled=Pa=!a[18].valid||!a[18].dirty,f(Ba,"class","button is-dark my-2 px-5 py-2 has-text-weight-bold"),f(ka,"class","column has-text-right"),f(ra,"class","columns"),f(Ua,"for",""),f(Ua,"class","gray"),ja.required=!0,f(ja,"name","category"),void 0===a[17].value&&x((()=>a[36].call(ja))),f(Ma,"class","control select is-fullwidth svelte-1ue5msu"),f(Ca,"class","field"),f(Oa,"class","column"),f(za,"for",""),f(za,"class","gray"),f(Xa,"class","control"),f(Fa,"class","field"),f(Qa,"class","column"),f(Na,"class","columns"),f(ct,"for",""),f(ct,"class","gray"),f(nt,"class","control"),f(rt,"class","field"),f(st,"class","column"),f(mt,"class","column"),f(et,"class","columns"),f(Nt,"class","my-0"),f(qt,"class","column"),f(Lt,"class","icon"),f(jt,"class","has-text-white has-text-weight-bold"),Tt.disabled=Gt=!a[18].valid||!a[18].dirty,f(Tt,"class","button is-success"),f(Ut,"class","column has-text-right"),f(At,"class","columns"),f(Kt,"for",""),f(Kt,"class","gray"),f(Yt,"class","control"),f(Jt,"class","field"),f(zt,"class","column"),f(Ft,"class","columns"),f(ie,"for",""),f(ie,"class","gray"),f(ue,"class","control"),f(le,"class","field"),f(ce,"class","column"),f(re,"class","columns"),f(pe,"for",""),f(pe,"class","gray"),f(Ie,"type","number"),f(Ie,"placeholder","Unit Price"),f(Ie,"class","input svelte-1ue5msu"),S(Ie,"is-danger",a[1]-a[12].value<0),f(be,"class","column"),f(ke,"for",""),f(ke,"class","gray"),f(xe,"rows","1"),f(xe,"class","textarea"),f(we,"class","control is-fullwidth"),f(Ve,"class","field"),f($e,"class","column"),f(fe,"class","columns"),f(Ce,"class","has-text-weight-bold"),f(We,"class","has-text-weight-bold"),f(qe,"class","column has-text-right"),f(Ae,"class","columns"),f(X,"class","card px-6 svelte-1ue5msu"),f(H,"class","container px-6")},m(s,r){l(s,t,r),l(s,e,r),l(s,P,r),l(s,L,r),l(s,H,r),b(H,M),b(M,W),y(G,W,null),b(M,Q),b(H,F),b(H,z),b(H,J),b(H,K),b(H,X),b(X,Z),b(X,Y),b(X,sa),b(X,ra),b(ra,ca),b(ca,la),b(la,ua),b(ca,ha),b(ca,Da),b(Da,$a),b(ra,Va),b(ra,ka),b(ka,Ba),b(Ba,Ra),b(X,wa),b(X,xa),b(X,Sa),us&&us.m(X,null),b(X,Aa),b(X,qa),b(qa,Na),b(Na,Oa),b(Oa,Ca),b(Ca,Ua),b(Ua,Ta),b(Ca,La),b(Ca,Ha),b(Ca,Ma),b(Ma,ja);for(let a=0;a<hs.length;a+=1)hs[a].m(ja,null);A(ja,a[17].value),b(Ca,Wa),ms&&ms.m(Ca,null),b(Na,Ga),b(Na,Qa),b(Qa,Fa),b(Fa,za),b(za,Ja),b(Fa,Ka),b(Fa,Xa),y(Za,Xa,null),b(Fa,at),bs&&bs.m(Fa,null),b(qa,tt),b(qa,et),b(et,st),b(st,rt),b(rt,ct),b(ct,lt),b(rt,it),b(rt,ot),b(rt,nt),y(ut,nt,null),b(et,ht),b(et,mt),b(qa,vt),b(qa,ft),b(qa,bt),b(qa,pt),b(qa,gt),b(X,Et),b(X,_t),b(_t,It),b(X,Dt),b(X,yt),b(X,$t);for(let a=0;a<_s.length;a+=1)_s[a].m(X,null);b(X,Vt),b(X,kt),b(kt,Bt),b(X,Rt),b(X,Pt),b(X,wt);for(let a=0;a<ys.length;a+=1)ys[a].m(X,null);b(X,xt),b(X,St),b(St,At),b(At,qt),b(qt,Nt),b(Nt,Ot),b(At,Ct),b(At,Ut),b(Ut,Tt),b(Tt,Lt),y(Ht,Lt,null),b(Tt,Mt),b(Tt,jt),b(jt,Wt),b(St,Qt),b(St,Ft),b(Ft,zt),b(zt,Jt),b(Jt,Kt),b(Kt,Xt),b(Jt,Zt),b(Jt,Yt),y(ae,Yt,null),b(Jt,ee),Bs&&Bs.m(Jt,null),b(St,se),b(St,re),b(re,ce),b(ce,le),b(le,ie),b(ie,oe),b(le,ne),b(le,ue),y(de,ue,null),b(le,me),ws&&ws.m(le,null),b(St,ve),b(St,fe),b(fe,be),b(be,pe),b(pe,ge),b(be,Ee),b(be,_e),b(be,Ie),q(Ie,a[12].value),b(be,De),xs&&xs.m(be,null),b(fe,ye),b(fe,$e),b($e,Ve),b(Ve,ke),b(ke,Be),b(Ve,Re),b(Ve,Pe),b(Ve,we),b(we,xe),q(xe,a[0]),b(St,Se),b(St,Ae),b(Ae,qe),b(qe,Ne),b(qe,Oe),b(qe,Ce),b(Ce,Ue),b(qe,Te),b(qe,Le),b(qe,He),b(qe,Me),b(qe,je),b(qe,We),b(We,Ge),b(qe,Qe),b(qe,Fe),b(St,ze),Ss&&Ss.m(St,null),b(X,Je),b(X,Ke),b(X,Xe),l(s,Ze,r),As&&As.m(s,r),l(s,Ye,r),as=!0,ts||(es=[$(Ba,"click",N(a[27])),$(ja,"change",a[36]),$(Tt,"click",N(a[28])),$(Ie,"input",a[43]),$(xe,"input",a[44])],ts=!0)},p(a,t){if((!as||262144&t[0]&&Pa!==(Pa=!a[18].valid||!a[18].dirty))&&(Ba.disabled=Pa),a[9]?us?us.p(a,t):(us=da(a),us.c(),us.m(X,Aa)):us&&(us.d(1),us=null),64&t[0]){let e;for(ds=a[6],e=0;e<ds.length;e+=1){const s=na(a,ds,e);hs[e]?hs[e].p(s,t):(hs[e]=ma(s),hs[e].c(),hs[e].m(ja,null))}for(;e<hs.length;e+=1)hs[e].d(1);hs.length=ds.length}131136&t[0]&&A(ja,a[17].value),262144&t[0]&&(ss=a[18].hasError("warehouse.required")),ss?ms||(ms=va(),ms.c(),ms.m(Ca,null)):ms&&(ms.d(1),ms=null);const e={};32&t[0]&&(e.items=a[5]),!Ya&&2048&t[0]&&(Ya=!0,e.value=a[11].value,O((()=>Ya=!1))),Za.$set(e),262144&t[0]&&(rs=a[18].hasError("consortium_member.required")),rs?bs||(bs=fa(),bs.c(),bs.m(Fa,null)):bs&&(bs.d(1),bs=null);const s={};if(!dt&&65536&t[0]&&(dt=!0,s.value=a[16].value,O((()=>dt=!1))),ut.$set(s),1073741840&t[0]){let e;for(Es=a[4],e=0;e<Es.length;e+=1){const s=oa(a,Es,e);_s[e]?(_s[e].p(s,t),V(_s[e],1)):(_s[e]=ba(s),_s[e].c(),V(_s[e],1),_s[e].m(X,Vt))}for(j(),e=Es.length;e<_s.length;e+=1)Is(e);C()}if(536870920&t[0]){let e;for(Ds=a[3],e=0;e<Ds.length;e+=1){const s=ia(a,Ds,e);ys[e]?(ys[e].p(s,t),V(ys[e],1)):(ys[e]=pa(s),ys[e].c(),V(ys[e],1),ys[e].m(X,xt))}for(j(),e=Ds.length;e<ys.length;e+=1)$s(e);C()}(!as||262144&t[0]&&Gt!==(Gt=!a[18].valid||!a[18].dirty))&&(Tt.disabled=Gt);const r={};128&t[0]&&(r.items=a[7]),!te&&16384&t[0]&&(te=!0,r.value=a[14].value,O((()=>te=!1))),ae.$set(r),32768&t[0]&&(cs=a[15].hasError("purchase_order.required")),cs?Bs||(Bs=ga(),Bs.c(),Bs.m(Jt,null)):Bs&&(Bs.d(1),Bs=null);const c={};256&t[0]&&(c.items=a[8]),!he&&8192&t[0]&&(he=!0,c.value=a[13].value,O((()=>he=!1))),de.$set(c),32768&t[0]&&(ls=a[15].hasError("purchase_order_item.required")),ls?ws||(ws=Ea(),ws.c(),ws.m(le,null)):ws&&(ws.d(1),ws=null),4096&t[0]&&U(Ie.value)!==a[12].value&&q(Ie,a[12].value),4098&t[0]&&S(Ie,"is-danger",a[1]-a[12].value<0),32768&t[0]&&(is=a[15].hasError("received.required")),is?xs||(xs=_a(),xs.c(),xs.m(be,null)):xs&&(xs.d(1),xs=null),1&t[0]&&q(xe,a[0]),(!as||2&t[0])&&os!==(os=aa(a[1])+"")&&p(Le,os),(!as||4098&t[0])&&ns!==(ns=aa(a[1]-a[12].value)+"")&&p(Fe,ns),a[2]?Ss?Ss.p(a,t):(Ss=Ia(a),Ss.c(),Ss.m(St,null)):Ss&&(Ss.d(1),Ss=null),a[10]?As?(As.p(a,t),1024&t[0]&&V(As,1)):(As=ya(a),As.c(),V(As,1),As.m(Ye.parentNode,Ye)):As&&(j(),k(As,1,1,(()=>{As=null})),C())},i(a){if(!as){V(G.$$.fragment,a),V(Za.$$.fragment,a),V(ut.$$.fragment,a);for(let a=0;a<Es.length;a+=1)V(_s[a]);for(let a=0;a<Ds.length;a+=1)V(ys[a]);V(Ht.$$.fragment,a),V(ae.$$.fragment,a),V(de.$$.fragment,a),V(As),as=!0}},o(a){k(G.$$.fragment,a),k(Za.$$.fragment,a),k(ut.$$.fragment,a),_s=_s.filter(Boolean);for(let a=0;a<_s.length;a+=1)k(_s[a]);ys=ys.filter(Boolean);for(let a=0;a<ys.length;a+=1)k(ys[a]);k(Ht.$$.fragment,a),k(ae.$$.fragment,a),k(de.$$.fragment,a),k(As),as=!1},d(a){a&&m(t),a&&m(e),a&&m(P),a&&m(L),a&&m(H),B(G),us&&us.d(),g(hs,a),ms&&ms.d(),B(Za),bs&&bs.d(),B(ut),g(_s,a),g(ys,a),B(Ht),B(ae),Bs&&Bs.d(),B(de),ws&&ws.d(),xs&&xs.d(),Ss&&Ss.d(),a&&m(Ze),As&&As.d(a),a&&m(Ye),ts=!1,T(es)}}}async function Va(a){return{slug:parseInt(a.params.slug)}}function ka(a,t,e){let s,r,c,l,i,o,n,u,{slug:d}=t;const h=X("warehouse","",[Z()]);L(a,h,(a=>e(17,n=a)));const m=X("consortium_member","",[Z()]);L(a,m,(a=>e(11,s=a)));const v=X("date",new Date,[Z()]);L(a,v,(a=>e(16,o=a)));const f=Y(h,m,v);L(a,f,(a=>e(18,u=a)));const b=X("purchase_order",null,[Z()]);L(a,b,(a=>e(14,l=a)));const p=X("purchase_order_item",null,[Z()]);L(a,p,(a=>e(13,c=a)));const g=X("received","",[Z()]);L(a,g,(a=>e(12,r=a)));let E="",_=0,I=[];const D=Y(b,p,g);L(a,D,(a=>e(15,i=a)));let y,$,V=[],k=[],B=[],R=[],P=[],w=[],x=!1;function S(a){e(3,V=V.filter((t=>t.index!=V[a].index)))}function A(a){$=a,e(10,x=!0)}async function q(){try{let a={populate:{consortium_member:{populate:"*"},warehouse:{populate:"*"},stock_items:{populate:["purchase_order_item","purchase_order_item.item","purchase_order_item.purchase_order"]}}};a=sa.stringify(a,{encodeValuesOnly:!0});let t=await J("stocks/"+d,a);console.log("Get Stock by ID ",t),h.set(t.data.attributes.warehouse.data?.id),m.set({value:t.data.attributes.consortium_member.data?.id,label:t.data.attributes.consortium_member.data?.attributes.name}),v.set(new Date(t.data.attributes.date)),e(4,k=t.data.attributes.stock_items.data)}catch(a){console.log("Error get Stock by ID ",a)}}return a.$$set=a=>{"slug"in a&&e(35,d=a.slug)},a.$$.update=()=>{16&a.$$.dirty[1]&&d&&(q(),async function(){try{let a={"pagination[limit]":-1};a=sa.stringify(a,{encodeValuesOnly:!0});let t=await J("consortium-members",a);console.log("Get Consortium Members ",t),e(5,B=t.data.map((a=>({value:a.id,label:a.attributes.name,data:a}))))}catch(a){console.log("Error Get Consortium Members ",a)}}(),async function(){try{let a={"pagination[limit]":-1};a=sa.stringify(a,{encodeValuesOnly:!0});let t=await J("warehouses",a);console.log("Get Warehouses ",t),e(6,R=t.data)}catch(a){console.log("Error Get Warehouses ",a)}}())},[E,_,I,V,k,B,R,P,w,y,x,s,r,c,l,i,o,n,u,h,m,v,f,b,p,g,D,async function(){if(await f.validate(),u.valid)try{let a=await W({path:"stocks/"+d+"?populate=%2A",data:{data:{warehouse:n.value,consortium_member:s.value.value,date:o.value}}});console.log("Add Stock Request  ",a),a.data?.id&&(G.push("Stock Edited Successfully!",{duration:2e4,theme:{"--toastBackground":"#48BB78","--toastBarBackground":"#2F855A"}}),ca("Stock",a.data,"Edit",a.data.id),async function(a){try{V.forEach((async t=>{let e=await Q({path:"stock-items?populate=%2A",data:{data:{stock:a.id,purchase_order_item:t.purchase_order_item.value,received:t.received,remark:t.remark}}});console.log("Save Stock Items ",e),e.data&&ca("Stock Item",e.data,"Create",e.data.id)})),F("stocks")}catch(a){console.log("Error Stock Items ",a)}}(a.data))}catch(a){console.log("Error Add Stock   ",a),e(9,y=a.error?.details.errors),G.push("Stock Could Not Be Edited! \n\n"+a.error.message,{duration:2e4,theme:{"--toastBackground":"#bb4848","--toastBarBackground":"#852f2f"}})}},async function(){await D.validate(),!i.valid||_-r.value<0||(console.log("Add Item ",c.value),e(3,V=[...V,{index:V.length,purchase_order_item:c.value,po_no:l.value.data?.attributes.poNumber,unit:c.value.data?.attributes.unit,pieces:c.value.data?.attributes.pieces,currency:c.value.data?.attributes.currency,quantity:c.value.data?.attributes.quantity,unitPrice:c.value.data?.attributes.unitPrice,received:r.value,remark:E}]),D.reset(),e(0,E=""),e(2,I=[]),e(1,_=0),console.log(V),G.push("Stock Item Added Successfully!",{duration:2e4,theme:{"--toastBackground":"#48BB78","--toastBarBackground":"#2F855A"}}))},S,A,async function(){e(10,x=!1);try{let a=await z("stock-items/"+$.id,null);console.log("Delete Stock Item Request  ",a),a.data?.id&&(G.push("Stock Item Deleted Successfully!",{duration:2e4,theme:{"--toastBackground":"#48BB78","--toastBarBackground":"#2F855A"}}),ca("Stock Item",$,"Delete",$.id),q())}catch(a){console.log("Error Delete Stock Item  ",a)}},async function(a){b.set(""),p.set(""),e(1,_=0),e(2,I=[]);try{let a={populate:{consortium_member:{populate:"*"},purchase_order_items:{populate:"*"}},filters:{consortium_member:{id:{$in:[s.value.value]}}},"pagination[limit]":-1};a=sa.stringify(a,{encodeValuesOnly:!0});let t=await J("purchase-orders",a);console.log("Get Purchase Orders ",t),e(7,P=t.data.map((a=>({value:a.id,label:"PO# - "+a.attributes.poNumber+"  ------- Date   "+a.attributes.date+"    ID    "+a.id,data:a}))))}catch(a){console.log("Error Purchase Orders ",a)}},async function(a){a.detail?.value&&(console.log(P.filter((t=>t.value==a.detail.value))[0].data?.attributes.purchase_order_items.data),e(8,w=P.filter((t=>t.value==a.detail.value))[0].data?.attributes.purchase_order_items.data),e(8,w=w.map((a=>({value:a.id,label:a.attributes.item.data.attributes.name+"-"+a.attributes.item.data.attributes.category+"  --- Unit - "+a.attributes.unit+" - Pieces - "+a.attributes.pieces+" - Quantity - "+a.attributes.quantity+" - Unit Price - "+a.attributes.unitPrice+" - Currency - "+a.attributes.currency+"    ID    "+a.id,data:a})))))},async function(a){if(a.detail?.data)try{let t={populate:["stock","stock.consortium_member","stock.warehouse","purchase_order_item","purchase_order_item.item"],filters:{purchase_order_item:{id:{$in:[a.detail.data.id]}}},"pagination[limit]":-1};t=sa.stringify(t,{encodeValuesOnly:!0});let s=await J("stock-items",t);console.log("Get Stock Items ",s);let r=0;return e(2,I=s.data.filter((a=>a.attributes.stock.data))),s.data.forEach((a=>{r+=parseInt(a.attributes.received)})),void e(1,_=parseInt(a.detail.data.attributes.quantity)-r)}catch(a){console.log("Error Stock Items ",a)}e(1,_=0)},d,function(){n.value=K(this),h.set(n),e(6,R)},function(t){a.$$.not_equal(s.value,t)&&(s.value=t,m.set(s))},function(t){a.$$.not_equal(o.value,t)&&(o.value=t,v.set(o))},a=>A(a),a=>S(a),function(t){a.$$.not_equal(l.value,t)&&(l.value=t,b.set(l))},function(t){a.$$.not_equal(c.value,t)&&(c.value=t,p.set(c))},function(){r.value=U(this.value),g.set(r)},function(){E=this.value,e(0,E)},()=>e(10,x=!1)]}class Ba extends a{constructor(a){super(),t(this,a,ka,$a,e,{slug:35},null,[-1,-1,-1])}}export{Ba as default,Va as preload};
