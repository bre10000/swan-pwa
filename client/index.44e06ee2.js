import{S as t,i as e,s as l,e as s,z as n,p as a,c as r,a as c,C as o,q as i,d as h,f as u,h as d,j as f,E as m,r as g,F as p,a3 as $,w,x as v,y,D as E,v as b,t as k,b as D,a4 as T,k as A,a5 as S,a6 as B,P as R,a7 as I,J as x,L as _,H as V,Q as C,I as P,m as O,Z as N,aa as U,af as H,ag as F,ah as L,ai as j,a8 as q,ak as M,al as z,A as G,am as Y,l as J,B as K,u as Q,g as Z,o as W,K as X,M as tt,N as et}from"./client.4ce32fd9.js";import"./SelectedColumns.61150ba7.js";import"./DataTable.addde9e1.js";import{l as lt}from"./index.79acf2d4.js";import{D as st}from"./DeleteConfirmation.a8531309.js";import"./jspdf.plugin.autotable.dc15019a.js";import{S as nt,P as at,g as rt,a as ct,b as ot}from"./SelectedColumns.b7523f53.js";function it(t,e,l){const s=t.slice();return s[51]=e[l],s[52]=e,s[53]=l,s}function ht(t,e,l){const s=t.slice();return s[54]=e[l],s}function ut(t,e,l){const s=t.slice();return s[54]=e[l],s}function dt(t,e,l){const s=t.slice();return s[54]=e[l],s[59]=e,s[60]=l,s}function ft(t,e,l){const s=t.slice();return s[61]=e[l],s}function mt(t,e,l){const s=t.slice();return s[54]=e[l],s}function gt(t){let e,l,E,b,k,D,T,A,S,B,R,I,x,_,V,C;function H(e){t[27](e)}T=new P({props:{data:O,scale:"1"}});let F={};return void 0!==t[2]&&(F.columns=t[2]),B=new nt({props:F}),N.push((()=>U(B,"columns",H))),{c(){e=s("div"),l=s("div"),E=s("div"),b=s("input"),k=n(),D=s("span"),a(T.$$.fragment),A=n(),S=s("div"),a(B.$$.fragment),I=n(),x=s("div"),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=c(e);l=r(s,"DIV",{class:!0});var n=c(l);E=r(n,"DIV",{class:!0});var a=c(E);b=r(a,"INPUT",{class:!0,type:!0,placeholder:!0}),k=o(a),D=r(a,"SPAN",{class:!0});var u=c(D);i(T.$$.fragment,u),u.forEach(h),a.forEach(h),n.forEach(h),A=o(s),S=r(s,"DIV",{class:!0});var d=c(S);i(B.$$.fragment,d),d.forEach(h),I=o(s),x=r(s,"DIV",{class:!0}),c(x).forEach(h),s.forEach(h),this.h()},h(){u(b,"class","input"),u(b,"type","search"),u(b,"placeholder","Search"),u(D,"class","icon is-small is-left"),u(E,"class","control pb-0 has-icons-left"),u(l,"class","column field pb-0 mb-0"),u(S,"class","column has-text-centered"),u(x,"class","column has-text-right"),u(e,"class","columns is-align-items-centered px-3 mb-0 pt-2")},m(s,n){d(s,e,n),f(e,l),f(l,E),f(E,b),m(b,t[8]),f(E,k),f(E,D),g(T,D,null),f(e,A),f(e,S),g(B,S,null),f(e,I),f(e,x),_=!0,V||(C=p(b,"input",t[26]),V=!0)},p(t,e){256&e[0]&&m(b,t[8]);const l={};!R&&4&e[0]&&(R=!0,l.columns=t[2],$((()=>R=!1))),B.$set(l)},i(t){_||(w(T.$$.fragment,t),w(B.$$.fragment,t),_=!0)},o(t){v(T.$$.fragment,t),v(B.$$.fragment,t),_=!1},d(t){t&&h(e),y(T),y(B),V=!1,C()}}}function pt(t){let e,l,n,a,o;return{c(){e=s("th"),l=s("label"),n=s("input"),this.h()},l(t){e=r(t,"TH",{class:!0});var s=c(e);l=r(s,"LABEL",{class:!0});var a=c(l);n=r(a,"INPUT",{type:!0,class:!0,style:!0}),a.forEach(h),s.forEach(h),this.h()},h(){u(n,"type","checkbox"),u(n,"class","mr-2 checkbox is-light svelte-lng1yd"),E(n,"transform","translateY(3px)"),u(l,"class","checkbox"),u(e,"class","is-narrow svelte-lng1yd")},m(s,r){d(s,e,r),f(e,l),f(l,n),a||(o=p(n,"click",t[28]),a=!0)},p:b,d(t){t&&h(e),a=!1,o()}}}function $t(t){return{c:b,l:b,m:b,d:b}}function wt(t){let e,l,a,i,m,g=t[54].title+"",$=t[0]===t[54].key&&$t();function w(){return t[29](t[54])}return{c(){e=s("th"),l=k(g),a=n(),$&&$.c(),this.h()},l(t){e=r(t,"TH",{class:!0});var s=c(e);l=D(s,g),a=o(s),$&&$.l(s),s.forEach(h),this.h()},h(){u(e,"class","svelte-lng1yd"),T(e,"isSortable",t[54].sortable)},m(t,s){d(t,e,s),f(e,l),f(e,a),$&&$.m(e,null),i||(m=p(e,"click",w),i=!0)},p(s,n){t=s,4&n[0]&&g!==(g=t[54].title+"")&&A(l,g),t[0]===t[54].key?$||($=$t(),$.c(),$.m(e,null)):$&&($.d(1),$=null),4&n[0]&&T(e,"isSortable",t[54].sortable)},d(t){t&&h(e),$&&$.d(),i=!1,m()}}}function vt(t){let e,l,n,o,m;n=new P({props:{data:H,scale:"1"}});let p=t[6].showDetails&&yt();return{c(){e=s("th"),l=k("         \n\t\t\t\t\t\t\t"),a(n.$$.fragment),o=k("   \n\t\t\t\t\t\t\t"),p&&p.c(),this.h()},l(t){e=r(t,"TH",{class:!0});var s=c(e);l=D(s,"         \n\t\t\t\t\t\t\t"),i(n.$$.fragment,s),o=D(s,"   \n\t\t\t\t\t\t\t"),p&&p.l(s),s.forEach(h),this.h()},h(){u(e,"class","is-narrow svelte-lng1yd")},m(t,s){d(t,e,s),f(e,l),g(n,e,null),f(e,o),p&&p.m(e,null),m=!0},p(t,l){t[6].showDetails?p||(p=yt(),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i(t){m||(w(n.$$.fragment,t),m=!0)},o(t){v(n.$$.fragment,t),m=!1},d(t){t&&h(e),y(n),p&&p.d()}}}function yt(t){let e;return{c(){e=k("   ")},l(t){e=D(t,"   ")},m(t,l){d(t,e,l)},d(t){t&&h(e)}}}function Et(t){let e,l,a,i=t[6].showSelect&&bt(),u=t[2].filter(jt),m=[];for(let e=0;e<u.length;e+=1)m[e]=Tt(dt(t,u,e));let g=t[6].showActions&&At();return{c(){e=s("tr"),i&&i.c(),l=n();for(let t=0;t<m.length;t+=1)m[t].c();a=n(),g&&g.c()},l(t){e=r(t,"TR",{});var s=c(e);i&&i.l(s),l=o(s);for(let t=0;t<m.length;t+=1)m[t].l(s);a=o(s),g&&g.l(s),s.forEach(h)},m(t,s){d(t,e,s),i&&i.m(e,null),f(e,l);for(let t=0;t<m.length;t+=1)m[t].m(e,null);f(e,a),g&&g.m(e,null)},p(t,s){if(t[6].showSelect?i||(i=bt(),i.c(),i.m(e,l)):i&&(i.d(1),i=null),1604&s[0]){let l;for(u=t[2].filter(jt),l=0;l<u.length;l+=1){const n=dt(t,u,l);m[l]?m[l].p(n,s):(m[l]=Tt(n),m[l].c(),m[l].m(e,a))}for(;l<m.length;l+=1)m[l].d(1);m.length=u.length}t[6].showActions?g||(g=At(),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},d(t){t&&h(e),i&&i.d(),R(m,t),g&&g.d()}}}function bt(t){let e;return{c(){e=s("td"),this.h()},l(t){e=r(t,"TD",{class:!0}),c(e).forEach(h),this.h()},h(){u(e,"class","svelte-lng1yd")},m(t,l){d(t,e,l)},d(t){t&&h(e)}}}function kt(t){let e,l,n,a,o,i,m=t[9][t[54].key],g=[];for(let e=0;e<m.length;e+=1)g[e]=Dt(ft(t,m,e));function $(){t[30].call(l,t[54])}return{c(){e=s("div"),l=s("select"),n=s("option"),a=k("Filter (Show all)");for(let t=0;t<g.length;t+=1)g[t].c();this.h()},l(t){e=r(t,"DIV",{class:!0,style:!0});var s=c(e);l=r(s,"SELECT",{style:!0});var o=c(l);n=r(o,"OPTION",{});var i=c(n);a=D(i,"Filter (Show all)"),i.forEach(h);for(let t=0;t<g.length;t+=1)g[t].l(o);o.forEach(h),s.forEach(h),this.h()},h(){n.__value=void 0,n.value=n.__value,E(l,"width","100%"),void 0===t[10][t[54].key]&&S($),u(e,"class","select is-small is-light"),E(e,"width","100%")},m(s,r){d(s,e,r),f(e,l),f(l,n),f(n,a);for(let t=0;t<g.length;t+=1)g[t].m(l,null);B(l,t[10][t[54].key]),o||(i=p(l,"change",$),o=!0)},p(e,s){if(t=e,516&s[0]){let e;for(m=t[9][t[54].key],e=0;e<m.length;e+=1){const n=ft(t,m,e);g[e]?g[e].p(n,s):(g[e]=Dt(n),g[e].c(),g[e].m(l,null))}for(;e<g.length;e+=1)g[e].d(1);g.length=m.length}1540&s[0]&&B(l,t[10][t[54].key])},d(t){t&&h(e),R(g,t),o=!1,i()}}}function Dt(t){let e,l,n,a=t[61].name+"";return{c(){e=s("option"),l=k(a),this.h()},l(t){e=r(t,"OPTION",{});var s=c(e);l=D(s,a),s.forEach(h),this.h()},h(){e.__value=n=t[61].value,e.value=e.__value},m(t,s){d(t,e,s),f(e,l)},p(t,s){516&s[0]&&a!==(a=t[61].name+"")&&A(l,a),516&s[0]&&n!==(n=t[61].value)&&(e.__value=n,e.value=e.__value)},d(t){t&&h(e)}}}function Tt(t){let e,l=t[6].showFilterHeader&&void 0!==t[9][t[54].key]&&kt(t);return{c(){e=s("td"),l&&l.c(),this.h()},l(t){e=r(t,"TD",{class:!0});var s=c(e);l&&l.l(s),s.forEach(h),this.h()},h(){u(e,"class","svelte-lng1yd")},m(t,s){d(t,e,s),l&&l.m(e,null)},p(t,s){t[6].showFilterHeader&&void 0!==t[9][t[54].key]?l?l.p(t,s):(l=kt(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(t){t&&h(e),l&&l.d()}}}function At(t){let e;return{c(){e=s("th"),this.h()},l(t){e=r(t,"TH",{class:!0}),c(e).forEach(h),this.h()},h(){u(e,"class","svelte-lng1yd")},m(t,l){d(t,e,l)},d(t){t&&h(e)}}}function St(t){let e,l,a,i,u=t[6].showSelect&&Bt(),m=t[2].filter(qt),g=[];for(let e=0;e<m.length;e+=1)g[e]=It(ut(t,m,e));let p=t[6].showActions&&xt();return{c(){e=s("tfoot"),l=s("tr"),u&&u.c(),a=n();for(let t=0;t<g.length;t+=1)g[t].c();i=n(),p&&p.c()},l(t){e=r(t,"TFOOT",{});var s=c(e);l=r(s,"TR",{});var n=c(l);u&&u.l(n),a=o(n);for(let t=0;t<g.length;t+=1)g[t].l(n);i=o(n),p&&p.l(n),n.forEach(h),s.forEach(h)},m(t,s){d(t,e,s),f(e,l),u&&u.m(l,null),f(l,a);for(let t=0;t<g.length;t+=1)g[t].m(l,null);f(l,i),p&&p.m(l,null)},p(t,e){if(t[6].showSelect?u||(u=Bt(),u.c(),u.m(l,a)):u&&(u.d(1),u=null),2079&e[0]){let s;for(m=t[2].filter(qt),s=0;s<m.length;s+=1){const n=ut(t,m,s);g[s]?g[s].p(n,e):(g[s]=It(n),g[s].c(),g[s].m(l,i))}for(;s<g.length;s+=1)g[s].d(1);g.length=m.length}t[6].showActions?p||(p=xt(),p.c(),p.m(l,null)):p&&(p.d(1),p=null)},d(t){t&&h(e),u&&u.d(),R(g,t),p&&p.d()}}}function Bt(t){let e;return{c(){e=s("th"),this.h()},l(t){e=r(t,"TH",{class:!0}),c(e).forEach(h),this.h()},h(){u(e,"class","is-narrow svelte-lng1yd")},m(t,l){d(t,e,l)},d(t){t&&h(e)}}}function Rt(t){let e,l=(1===t[1]?t[3]:t[4])+"";return{c(){e=k(l)},l(t){e=D(t,l)},m(t,l){d(t,e,l)},p(t,s){26&s[0]&&l!==(l=(1===t[1]?t[3]:t[4])+"")&&A(e,l)},d(t){t&&h(e)}}}function It(t){let e,l,a,i,m,g=t[54].title+"",$=t[0]===t[54].key&&Rt(t);function w(){return t[31](t[54])}return{c(){e=s("th"),l=k(g),a=n(),$&&$.c(),this.h()},l(t){e=r(t,"TH",{class:!0});var s=c(e);l=D(s,g),a=o(s),$&&$.l(s),s.forEach(h),this.h()},h(){u(e,"class","svelte-lng1yd"),T(e,"isSortable",t[54].sortable)},m(t,s){d(t,e,s),f(e,l),f(e,a),$&&$.m(e,null),i||(m=p(e,"click",w),i=!0)},p(s,n){t=s,4&n[0]&&g!==(g=t[54].title+"")&&A(l,g),t[0]===t[54].key?$?$.p(t,n):($=Rt(t),$.c(),$.m(e,null)):$&&($.d(1),$=null),4&n[0]&&T(e,"isSortable",t[54].sortable)},d(t){t&&h(e),$&&$.d(),i=!1,m()}}}function xt(t){let e;return{c(){e=s("th"),this.h()},l(t){e=r(t,"TH",{class:!0}),c(e).forEach(h),this.h()},h(){u(e,"class","is-narrow svelte-lng1yd")},m(t,l){d(t,e,l)},d(t){t&&h(e)}}}function _t(t){let e,l,n,a;function o(){t[32].call(l,t[52],t[53])}function i(){return t[33](t[51])}return{c(){e=s("td"),l=s("input"),this.h()},l(t){e=r(t,"TD",{class:!0});var s=c(e);l=r(s,"INPUT",{type:!0,class:!0}),s.forEach(h),this.h()},h(){u(l,"type","checkbox"),u(l,"class","checkbox svelte-lng1yd"),u(e,"class","svelte-lng1yd")},m(s,r){d(s,e,r),f(e,l),l.checked=t[51].selected,n||(a=[p(l,"change",o),p(l,"click",I(i))],n=!0)},p(e,s){t=e,128&s[0]&&(l.checked=t[51].selected)},d(t){t&&h(e),n=!1,x(a)}}}function Vt(t){let e,l,s=(t[51][t[54].key]?t[51][t[54].key]:"-")+"";return{c(){e=new z,l=G(),this.h()},l(t){e=Y(t),l=G(),this.h()},h(){e.a=l},m(t,n){e.m(s,t,n),d(t,l,n)},p(t,l){132&l[0]&&s!==(s=(t[51][t[54].key]?t[51][t[54].key]:"-")+"")&&e.p(s)},d(t){t&&h(l),t&&e.d()}}}function Ct(t){let e,l,s=(t[51][t[54].key].name?t[51][t[54].key].name:"-")+"";return{c(){e=new z,l=G(),this.h()},l(t){e=Y(t),l=G(),this.h()},h(){e.a=l},m(t,n){e.m(s,t,n),d(t,l,n)},p(t,l){132&l[0]&&s!==(s=(t[51][t[54].key].name?t[51][t[54].key].name:"-")+"")&&e.p(s)},d(t){t&&h(l),t&&e.d()}}}function Pt(t){let e,l,n;function a(t,e){return"role"==t[54].key?Ct:Vt}let o=a(t),i=o(t);function f(){return t[34](t[51],t[54])}return{c(){e=s("td"),i.c(),this.h()},l(t){e=r(t,"TD",{class:!0});var l=c(e);i.l(l),l.forEach(h),this.h()},h(){u(e,"class","svelte-lng1yd")},m(t,s){d(t,e,s),i.m(e,null),l||(n=p(e,"click",f),l=!0)},p(l,s){o===(o=a(t=l))&&i?i.p(t,s):(i.d(1),i=o(t),i&&(i.c(),i.m(e,null)))},d(t){t&&h(e),i.d(),l=!1,n()}}}function Ot(t){let e,l,m,$,E,b,T,A,S,B,R,C,O,N,U,H,q,M,z,G,Y,J,K,Q,Z;function W(){return t[35](t[51])}function X(...e){return t[36](t[51],...e)}function tt(...e){return t[37](t[51],...e)}A=new P({props:{data:F}}),U=new P({props:{data:L,scale:"1"}}),G=new P({props:{data:j,scale:"1"}});let et=t[6].showDetails&&Nt(t);return{c(){e=s("td"),l=s("div"),m=s("div"),$=s("button"),E=s("span"),b=n(),T=s("span"),a(A.$$.fragment),S=n(),B=s("div"),R=s("div"),C=s("a"),O=k("Edit\n\t\t\t\t\t\t\t\t\t\t\t\t"),N=s("span"),a(U.$$.fragment),H=n(),q=s("a"),M=k("Delete\n\t\t\t\t\t\t\t\t\t\t\t\t"),z=s("span"),a(G.$$.fragment),J=n(),et&&et.c(),this.h()},l(t){e=r(t,"TD",{class:!0});var s=c(e);l=r(s,"DIV",{class:!0,id:!0});var n=c(l);m=r(n,"DIV",{class:!0});var a=c(m);$=r(a,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var u=c($);E=r(u,"SPAN",{}),c(E).forEach(h),b=o(u),T=r(u,"SPAN",{class:!0,"aria-hidden":!0});var d=c(T);i(A.$$.fragment,d),d.forEach(h),u.forEach(h),a.forEach(h),S=o(n),B=r(n,"DIV",{class:!0,id:!0,role:!0});var f=c(B);R=r(f,"DIV",{class:!0});var g=c(R);C=r(g,"A",{href:!0,class:!0});var p=c(C);O=D(p,"Edit\n\t\t\t\t\t\t\t\t\t\t\t\t"),N=r(p,"SPAN",{class:!0});var w=c(N);i(U.$$.fragment,w),w.forEach(h),p.forEach(h),H=o(g),q=r(g,"A",{href:!0,class:!0});var v=c(q);M=D(v,"Delete\n\t\t\t\t\t\t\t\t\t\t\t\t"),z=r(v,"SPAN",{class:!0});var y=c(z);i(G.$$.fragment,y),y.forEach(h),v.forEach(h),g.forEach(h),f.forEach(h),n.forEach(h),J=o(s),et&&et.l(s),s.forEach(h),this.h()},h(){u(T,"class","icon is-small"),u(T,"aria-hidden","true"),u($,"class","button is-light is-small pl-1"),u($,"aria-haspopup","true"),u($,"aria-controls","dropdown-menu"),u(m,"class","dropdown-trigger"),u(N,"class","icon is-small"),u(C,"href","#"),u(C,"class","dropdown-item svelte-lng1yd"),u(z,"class","icon is-small"),u(q,"href","#"),u(q,"class","dropdown-item has-text-danger svelte-lng1yd"),u(R,"class","dropdown-content svelte-lng1yd"),u(B,"class","dropdown-menu action-dropdown svelte-lng1yd"),u(B,"id","dropdown-menu"),u(B,"role","menu"),u(l,"class","dropdown is-right"),u(l,"id",Y=t[51].id),u(e,"class","has-text-right px-4 svelte-lng1yd")},m(t,s){d(t,e,s),f(e,l),f(l,m),f(m,$),f($,E),f($,b),f($,T),g(A,T,null),f(l,S),f(l,B),f(B,R),f(R,C),f(C,O),f(C,N),g(U,N,null),f(R,H),f(R,q),f(q,M),f(q,z),g(G,z,null),f(e,J),et&&et.m(e,null),K=!0,Q||(Z=[p($,"click",I(W)),p(C,"click",I(X)),p(q,"click",I(tt))],Q=!0)},p(s,n){t=s,(!K||128&n[0]&&Y!==(Y=t[51].id))&&u(l,"id",Y),t[6].showDetails?et?(et.p(t,n),64&n[0]&&w(et,1)):(et=Nt(t),et.c(),w(et,1),et.m(e,null)):et&&(_(),v(et,1,1,(()=>{et=null})),V())},i(t){K||(w(A.$$.fragment,t),w(U.$$.fragment,t),w(G.$$.fragment,t),w(et),K=!0)},o(t){v(A.$$.fragment,t),v(U.$$.fragment,t),v(G.$$.fragment,t),v(et),K=!1},d(t){t&&h(e),y(A),y(U),y(G),et&&et.d(),Q=!1,x(Z)}}}function Nt(t){let e,l,n,o,m,$;function E(){return t[38](t[51])}return n=new P({props:{data:q,scale:"1"}}),{c(){e=s("button"),l=s("span"),a(n.$$.fragment),this.h()},l(t){e=r(t,"BUTTON",{class:!0});var s=c(e);l=r(s,"SPAN",{class:!0});var a=c(l);i(n.$$.fragment,a),a.forEach(h),s.forEach(h),this.h()},h(){u(l,"class","icon"),u(e,"class","button is-light is-small")},m(t,s){d(t,e,s),f(e,l),g(n,l,null),o=!0,m||($=p(e,"clickstopPropagation",E),m=!0)},p(e,l){t=e},i(t){o||(w(n.$$.fragment,t),o=!0)},o(t){v(n.$$.fragment,t),o=!1},d(t){t&&h(e),y(n),m=!1,$()}}}function Ut(t){let e,l,a,i,u,m,g,$=t[6].showSelect&&_t(t),y=t[2].filter(Mt),E=[];for(let e=0;e<y.length;e+=1)E[e]=Pt(ht(t,y,e));let b=t[6].showActions&&Ot(t);function k(){return t[39](t[51])}return{c(){e=s("tr"),$&&$.c(),l=n();for(let t=0;t<E.length;t+=1)E[t].c();a=n(),b&&b.c(),i=n(),this.h()},l(t){e=r(t,"TR",{});var s=c(e);$&&$.l(s),l=o(s);for(let t=0;t<E.length;t+=1)E[t].l(s);a=o(s),b&&b.l(s),i=o(s),s.forEach(h),this.h()},h(){T(e,"has-background-info",t[51].selected),T(e,"has-text-white",t[51].selected)},m(t,s){d(t,e,s),$&&$.m(e,null),f(e,l);for(let t=0;t<E.length;t+=1)E[t].m(e,null);f(e,a),b&&b.m(e,null),f(e,i),u=!0,m||(g=p(e,"click",k),m=!0)},p(s,n){if((t=s)[6].showSelect?$?$.p(t,n):($=_t(t),$.c(),$.m(e,l)):$&&($.d(1),$=null),32900&n[0]){let l;for(y=t[2].filter(Mt),l=0;l<y.length;l+=1){const s=ht(t,y,l);E[l]?E[l].p(s,n):(E[l]=Pt(s),E[l].c(),E[l].m(e,a))}for(;l<E.length;l+=1)E[l].d(1);E.length=y.length}t[6].showActions?b?(b.p(t,n),64&n[0]&&w(b,1)):(b=Ot(t),b.c(),w(b,1),b.m(e,i)):b&&(_(),v(b,1,1,(()=>{b=null})),V()),128&n[0]&&T(e,"has-background-info",t[51].selected),128&n[0]&&T(e,"has-text-white",t[51].selected)},i(t){u||(w(b),u=!0)},o(t){v(b),u=!1},d(t){t&&h(e),$&&$.d(),R(E,t),b&&b.d(),m=!1,g()}}}function Ht(t){let e,l;return e=new at({props:{current_page:t[5].page,pageCount:t[5].pageCount}}),e.$on("change",t[40]),{c(){a(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,s){g(e,t,s),l=!0},p(t,l){const s={};32&l[0]&&(s.current_page=t[5].page),32&l[0]&&(s.pageCount=t[5].pageCount),e.$set(s)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){y(e,t)}}}function Ft(t){let e,l,a,i,m,g,p,$,y,E,b,k,D,T,A,S,B,I,x=t[6].showSearch&&gt(t),C=t[6].showSelect&&pt(t),P=t[2].filter(Lt),O=[];for(let e=0;e<P.length;e+=1)O[e]=wt(mt(t,P,e));let N=t[6].showActions&&vt(t),U=t[6].showFilterHeader&&Et(t),H=t[6].showFooter&&St(t),F=t[7],L=[];for(let e=0;e<F.length;e+=1)L[e]=Ut(it(t,F,e));const j=t=>v(L[t],1,1,(()=>{L[t]=null}));let q=t[5]&&Ht(t);return{c(){e=s("div"),x&&x.c(),l=n(),a=s("div"),i=s("table"),m=s("thead"),g=s("tr"),C&&C.c(),p=n();for(let t=0;t<O.length;t+=1)O[t].c();$=n(),N&&N.c(),y=n(),U&&U.c(),E=n(),H&&H.c(),b=n(),k=s("tbody");for(let t=0;t<L.length;t+=1)L[t].c();D=n(),T=s("br"),A=s("br"),S=n(),B=s("div"),q&&q.c(),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=c(e);x&&x.l(s),l=o(s),a=r(s,"DIV",{class:!0});var n=c(a);i=r(n,"TABLE",{class:!0});var u=c(i);m=r(u,"THEAD",{class:!0});var d=c(m);g=r(d,"TR",{});var f=c(g);C&&C.l(f),p=o(f);for(let t=0;t<O.length;t+=1)O[t].l(f);$=o(f),N&&N.l(f),f.forEach(h),y=o(d),U&&U.l(d),d.forEach(h),E=o(u),H&&H.l(u),b=o(u),k=r(u,"TBODY",{});var w=c(k);for(let t=0;t<L.length;t+=1)L[t].l(w);w.forEach(h),u.forEach(h),n.forEach(h),s.forEach(h),D=o(t),T=r(t,"BR",{}),A=r(t,"BR",{}),S=o(t),B=r(t,"DIV",{class:!0});var v=c(B);q&&q.l(v),v.forEach(h),this.h()},h(){u(m,"class","has-background-light"),u(i,"class","table is-hoverable is-fullwidth is-borderless svelte-lng1yd"),u(a,"class","table-container py-0 my-0 svelte-lng1yd"),u(e,"class","container-fluid has-background-light table-container-main"),u(B,"class","container-fluid py-4 px-5")},m(t,s){d(t,e,s),x&&x.m(e,null),f(e,l),f(e,a),f(a,i),f(i,m),f(m,g),C&&C.m(g,null),f(g,p);for(let t=0;t<O.length;t+=1)O[t].m(g,null);f(g,$),N&&N.m(g,null),f(m,y),U&&U.m(m,null),f(i,E),H&&H.m(i,null),f(i,b),f(i,k);for(let t=0;t<L.length;t+=1)L[t].m(k,null);d(t,D,s),d(t,T,s),d(t,A,s),d(t,S,s),d(t,B,s),q&&q.m(B,null),I=!0},p(t,s){if(t[6].showSearch?x?(x.p(t,s),64&s[0]&&w(x,1)):(x=gt(t),x.c(),w(x,1),x.m(e,l)):x&&(_(),v(x,1,1,(()=>{x=null})),V()),t[6].showSelect?C?C.p(t,s):(C=pt(t),C.c(),C.m(g,p)):C&&(C.d(1),C=null),2053&s[0]){let e;for(P=t[2].filter(Lt),e=0;e<P.length;e+=1){const l=mt(t,P,e);O[e]?O[e].p(l,s):(O[e]=wt(l),O[e].c(),O[e].m(g,$))}for(;e<O.length;e+=1)O[e].d(1);O.length=P.length}if(t[6].showActions?N?(N.p(t,s),64&s[0]&&w(N,1)):(N=vt(t),N.c(),w(N,1),N.m(g,null)):N&&(_(),v(N,1,1,(()=>{N=null})),V()),t[6].showFilterHeader?U?U.p(t,s):(U=Et(t),U.c(),U.m(m,null)):U&&(U.d(1),U=null),t[6].showFooter?H?H.p(t,s):(H=St(t),H.c(),H.m(i,b)):H&&(H.d(1),H=null),1028292&s[0]){let e;for(F=t[7],e=0;e<F.length;e+=1){const l=it(t,F,e);L[e]?(L[e].p(l,s),w(L[e],1)):(L[e]=Ut(l),L[e].c(),w(L[e],1),L[e].m(k,null))}for(_(),e=F.length;e<L.length;e+=1)j(e);V()}t[5]?q?(q.p(t,s),32&s[0]&&w(q,1)):(q=Ht(t),q.c(),w(q,1),q.m(B,null)):q&&(_(),v(q,1,1,(()=>{q=null})),V())},i(t){if(!I){w(x),w(N);for(let t=0;t<F.length;t+=1)w(L[t]);w(q),I=!0}},o(t){v(x),v(N),L=L.filter(Boolean);for(let t=0;t<L.length;t+=1)v(L[t]);v(q),I=!1},d(t){t&&h(e),x&&x.d(),C&&C.d(),R(O,t),N&&N.d(),U&&U.d(),H&&H.d(),R(L,t),t&&h(D),t&&h(T),t&&h(A),t&&h(S),t&&h(B),q&&q.d()}}}const Lt=t=>t.selected,jt=t=>t.selected,qt=t=>t.selected,Mt=t=>t.selected;function zt(t,e,l){const s=C();let{columns:n}=e,{rows:a}=e,{sortBy:r=""}=e,{sortOrder:c=1}=e,{iconAsc:o="▲"}=e,{iconDesc:i="▼"}=e,{pagesCount:h=10}=e,{current_page:u=1}=e,{last_page:d}=e,{per_page:f=10}=e,{pagination:m}=e,{options:g={title:"Data Table",showSearch:!0,showFilterHeader:!1,showSelect:!0,showDetails:!0,showActions:!0,showFooter:!1}}=e,p=a,$="",w={},v={},y={},E=[],b=!1;n.forEach((t=>{y[t.key]=t,E[t.title]=t}));const k=t=>{var e;e=t.key,l(1,c=e===r&&1===c?-1:1),l(0,r=t.key)},D=t=>{s("clickRow",{row:t})},T=t=>{t.selected=!0,s("selectRow",t)},A=()=>{b=!b,p.forEach((t=>{t.selected=b})),s("selectAllRows",{c_rows:p,select_all:b})},S=(t,e)=>{s("clickCell",{row:t,key:e})};g.showFilterHeader&&(l(9,w={}),n.forEach((t=>{"numeric"===t.filterType?l(9,w[t.key]=rt(a,t.key,t.interval),w):"string"===t.filterType?l(9,w[t.key]=ct(a,t.key),w):"whole-string"===t.filterType?l(9,w[t.key]=ot(a,t.key),w):"array"===t.filterType&&l(9,w[t.key]=t.filterValues,w)})));const B=(t,e)=>{e.preventDefault(),document.getElementById(t.id).classList.toggle("is-active"),s("editRow",{row:t})},R=(t,e)=>{e.preventDefault(),document.getElementById(t.id).classList.toggle("is-active"),s("deleteRow",{row:t})},I=t=>{t.showDetails=!t.showDetails||!t.showDetails,s("showDetails",{row:t})},x=t=>{document.getElementById(t.id).classList.toggle("is-active"),s("showActionDropdown",{row:t})},_=t=>{s("changePage",{newPage:t})};return t.$$set=t=>{"columns"in t&&l(2,n=t.columns),"rows"in t&&l(24,a=t.rows),"sortBy"in t&&l(0,r=t.sortBy),"sortOrder"in t&&l(1,c=t.sortOrder),"iconAsc"in t&&l(3,o=t.iconAsc),"iconDesc"in t&&l(4,i=t.iconDesc),"pagesCount"in t&&l(22,h=t.pagesCount),"current_page"in t&&l(23,u=t.current_page),"last_page"in t&&l(21,d=t.last_page),"per_page"in t&&l(25,f=t.per_page),"pagination"in t&&l(5,m=t.pagination),"options"in t&&l(6,g=t.options)},t.$$.update=()=>{16777603&t.$$.dirty[0]&&$&&p&&(" "==$&&l(8,$=""),l(7,p=a.filter((t=>function(t){let e=!1;return Object.keys(t).forEach((l=>{t[l]?t[l].toString().toLowerCase().includes($.toLowerCase())&&(e=!0):t[l]?.name&&t[l].name.toString().toLowerCase().includes($.toLowerCase())&&(e=!0)})),e}(t))).map((t=>Object.assign({},t,{$sortOn:t[r]}))).sort(((t,e)=>t.$sortOn>e.$sortOn?c:t.$sortOn<e.$sortOn?-c:0)))),35651712&t.$$.dirty[0]&&(l(23,u=1),l(21,d=Math.round(p.length/f)),l(22,h=d))},[r,c,n,o,i,m,g,p,$,w,v,k,D,T,A,S,B,R,I,x,_,d,h,u,a,f,function(){$=this.value,l(8,$),l(7,p),l(24,a),l(0,r),l(1,c)},function(t){n=t,l(2,n)},()=>{A()},t=>k(t),function(t){v[t.key]=M(this),l(10,v),l(2,n),l(9,w)},t=>k(t),function(t,e){t[e].selected=this.checked,l(7,p),l(8,$),l(24,a),l(0,r),l(1,c)},t=>{T(t)},(t,e)=>{S(t,e.key)},t=>x(t),(t,e)=>B(t,e),(t,e)=>R(t,e),t=>I(t),t=>{D(t)},t=>_(t.detail)]}class Gt extends t{constructor(t){super(),e(this,t,zt,Ft,l,{columns:2,rows:24,sortBy:0,sortOrder:1,iconAsc:3,iconDesc:4,pagesCount:22,current_page:23,last_page:21,per_page:25,pagination:5,options:6},null,[-1,-1,-1])}}function Yt(t){let e,l,n=t[1].length+"";return{c(){e=s("span"),l=k(n),this.h()},l(t){e=r(t,"SPAN",{class:!0});var s=c(e);l=D(s,n),s.forEach(h),this.h()},h(){u(e,"class","gray has-text-weight-light ml-2")},m(t,s){d(t,e,s),f(e,l)},p(t,e){2&e&&n!==(n=t[1].length+"")&&A(l,n)},d(t){t&&h(e)}}}function Jt(t){let e,l,m,p,$,E,T,A,S,B,R,I,x,_,V,C;return T=new P({props:{data:O,scale:"3"}}),{c(){e=s("div"),l=s("br"),m=s("br"),p=s("br"),$=s("br"),E=n(),a(T.$$.fragment),A=n(),S=s("p"),B=k("Uh oh! nothing found on database."),R=n(),I=s("br"),x=s("br"),_=s("br"),V=s("br"),this.h()},l(t){e=r(t,"DIV",{class:!0});var s=c(e);l=r(s,"BR",{}),m=r(s,"BR",{}),p=r(s,"BR",{}),$=r(s,"BR",{}),E=o(s),i(T.$$.fragment,s),A=o(s),S=r(s,"P",{class:!0});var n=c(S);B=D(n,"Uh oh! nothing found on database."),n.forEach(h),R=o(s),I=r(s,"BR",{}),x=r(s,"BR",{}),_=r(s,"BR",{}),V=r(s,"BR",{}),s.forEach(h),this.h()},h(){u(S,"class","gray"),u(e,"class","has-text-centered")},m(t,s){d(t,e,s),f(e,l),f(e,m),f(e,p),f(e,$),f(e,E),g(T,e,null),f(e,A),f(e,S),f(S,B),f(e,R),f(e,I),f(e,x),f(e,_),f(e,V),C=!0},p:b,i(t){C||(w(T.$$.fragment,t),C=!0)},o(t){v(T.$$.fragment,t),C=!1},d(t){t&&h(e),y(T)}}}function Kt(t){let e,l;return e=new Gt({props:{pagination:t[2],columns:t[3],rows:t[1],options:t[4]}}),e.$on("clickCol",t[6]),e.$on("changePage",t[5]),e.$on("deleteRow",t[8]),e.$on("editRow",t[7]),e.$on("clickRow",t[7]),{c(){a(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,s){g(e,t,s),l=!0},p(t,l){const s={};4&l&&(s.pagination=t[2]),2&l&&(s.rows=t[1]),e.$set(s)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){y(e,t)}}}function Qt(t){let e,l;return e=new st({}),e.$on("confirm",t[9]),e.$on("dismiss",t[10]),{c(){a(e.$$.fragment)},l(t){i(e.$$.fragment,t)},m(t,s){g(e,t,s),l=!0},p:b,i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){y(e,t)}}}function Zt(t){let e,l,m,p,$,E,b,T,A,S,B,R,I,x,C,O,N,U,H,F,L,j,q,M,z,Y,Q,Z,W,X,tt,et,lt=t[1]&&Yt(t);x=new P({props:{data:J}});const st=[Kt,Jt],nt=[];function at(t,e){return t[1]?.length>0?0:1}j=at(t),q=nt[j]=st[j](t);let rt=t[0]&&Qt(t);return{c(){e=n(),l=s("br"),m=s("br"),p=n(),$=s("div"),E=s("div"),b=s("div"),T=s("h3"),A=k("Users\r\n                "),lt&&lt.c(),S=n(),B=s("div"),R=s("a"),I=s("span"),a(x.$$.fragment),C=n(),O=s("span"),N=k("Add a User"),U=n(),H=s("div"),F=n(),L=s("div"),q.c(),M=n(),z=s("br"),Y=s("br"),Q=s("br"),Z=s("br"),W=s("br"),X=n(),rt&&rt.c(),tt=G(),this.h()},l(t){K('[data-svelte="svelte-hcqzl"]',document.head).forEach(h),e=o(t),l=r(t,"BR",{}),m=r(t,"BR",{}),p=o(t),$=r(t,"DIV",{class:!0});var s=c($);E=r(s,"DIV",{class:!0});var n=c(E);b=r(n,"DIV",{class:!0});var a=c(b);T=r(a,"H3",{});var u=c(T);A=D(u,"Users\r\n                "),lt&&lt.l(u),u.forEach(h),a.forEach(h),S=o(n),B=r(n,"DIV",{class:!0});var d=c(B);R=r(d,"A",{href:!0,class:!0});var f=c(R);I=r(f,"SPAN",{class:!0});var g=c(I);i(x.$$.fragment,g),g.forEach(h),C=o(f),O=r(f,"SPAN",{class:!0});var w=c(O);N=D(w,"Add a User"),w.forEach(h),f.forEach(h),d.forEach(h),n.forEach(h),U=o(s),H=r(s,"DIV",{class:!0}),c(H).forEach(h),F=o(s),L=r(s,"DIV",{class:!0});var v=c(L);q.l(v),v.forEach(h),M=o(s),z=r(s,"BR",{}),Y=r(s,"BR",{}),Q=r(s,"BR",{}),Z=r(s,"BR",{}),W=r(s,"BR",{}),s.forEach(h),X=o(t),rt&&rt.l(t),tt=G(),this.h()},h(){document.title="Users",u(b,"class","column"),u(I,"class","icon"),u(O,"class","has-text-white has-text-weight-bold"),u(R,"href","/users/add"),u(R,"class","button is-dark px-5"),u(B,"class","column has-text-right"),u(E,"class","columns"),u(H,"class","columns"),u(L,"class","card"),u($,"class","container px-6")},m(t,s){d(t,e,s),d(t,l,s),d(t,m,s),d(t,p,s),d(t,$,s),f($,E),f(E,b),f(b,T),f(T,A),lt&&lt.m(T,null),f(E,S),f(E,B),f(B,R),f(R,I),g(x,I,null),f(R,C),f(R,O),f(O,N),f($,U),f($,H),f($,F),f($,L),nt[j].m(L,null),f($,M),f($,z),f($,Y),f($,Q),f($,Z),f($,W),d(t,X,s),rt&&rt.m(t,s),d(t,tt,s),et=!0},p(t,[e]){t[1]?lt?lt.p(t,e):(lt=Yt(t),lt.c(),lt.m(T,null)):lt&&(lt.d(1),lt=null);let l=j;j=at(t),j===l?nt[j].p(t,e):(_(),v(nt[l],1,1,(()=>{nt[l]=null})),V(),q=nt[j],q?q.p(t,e):(q=nt[j]=st[j](t),q.c()),w(q,1),q.m(L,null)),t[0]?rt?(rt.p(t,e),1&e&&w(rt,1)):(rt=Qt(t),rt.c(),w(rt,1),rt.m(tt.parentNode,tt)):rt&&(_(),v(rt,1,1,(()=>{rt=null})),V())},i(t){et||(w(x.$$.fragment,t),w(q),w(rt),et=!0)},o(t){v(x.$$.fragment,t),v(q),v(rt),et=!1},d(t){t&&h(e),t&&h(l),t&&h(m),t&&h(p),t&&h($),lt&&lt.d(),y(x),nt[j].d(),t&&h(X),rt&&rt.d(t),t&&h(tt)}}}function Wt(t,e,l){const s=Q.subscribe((t=>{!t.loggedIn&&t.fetched?Z("/login"):t.data&&i()}));W(s);let n,a="",r=!1,c=[];let o;async function i(t,e,s){try{let s={filters:t||{},sort:e||"id","pagination['limit']":-1};s=lt.stringify(s,{encodeValuesOnly:!0});let n=await X("users",s);console.log("Get Users Request - ",n),l(1,c=n.data),l(2,o=n.meta?.pagination)}catch(t){console.warn("Error Getting Users - ",t)}}return[r,c,o,[{key:"id",title:"ID",sortable:!0,filterValue:t=>Math.floor(t.id/10),interval:10,filterType:"numeric",headerClass:"has-text-left",selected:!0},{key:"name",title:"Name",sortable:!0,filterValue:t=>t.name.charAt(0).toLowerCase(),filterType:"string",selected:!0},{key:"username",title:"Username",sortable:!0,filterValue:t=>t.username.charAt(0).toLowerCase(),filterType:"string",selected:!0},{key:"email",title:"Email",sortable:!0,filterValue:t=>t.email.charAt(0).toLowerCase(),filterType:"string",selected:!0},{key:"role",title:"Role",sortable:!0,filterValue:t=>t.role.name.charAt(0).toLowerCase(),filterType:"string",selected:!0}],{title:"Users Table",showSearch:!0,showFilterHeader:!1,showSelect:!1,showDetails:!1,showActions:!0,showFooter:!1},function(t){i({$or:[{name:{$containsi:""}},{email:{$containsi:""}},{username:{$containsi:""}}]},a,t.detail.newPage)},function(t){a=t.detail.key,i({$or:[{name:{$containsi:""}},{email:{$containsi:""}},{username:{$containsi:""}}]},a,t.detail.newPage)},function(t){Z("users/edit/"+t.detail.row.id)},function(t){n=t.detail.row,l(0,r=!0)},async function(){l(0,r=!1);try{let t=await tt("users/"+n.id,null);console.log("Delete User Request  ",t),t?.id&&(et.push("User Deleted Successfully!",{duration:2e4,theme:{"--toastBackground":"#48BB78","--toastBarBackground":"#2F855A"}}),i({$or:[{name:{$containsi:""}},{email:{$containsi:""}},{username:{$containsi:""}}]},a))}catch(t){console.log("Error Delete User   ",t)}},()=>l(0,r=!1)]}class Xt extends t{constructor(t){super(),e(this,t,Wt,Zt,l,{})}}export{Xt as default};
