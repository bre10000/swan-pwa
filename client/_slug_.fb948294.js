import{S as a,i as t,s as e,I as r,T as s,A as c,h as i,e as l,t as u,z as o,c as d,a as n,b as h,d as m,C as b,f,j as v,k as p,P as _,Z as E,aa as g,p as y,B as I,q as k,a4 as D,r as R,E as P,F as V,G as S,a3 as B,an as $,w as A,x,y as q,J as N,W as w,_ as O,N as U,g as Q,K as H}from"./client.9bda2085.js";import{f as C,r as j,a as L}from"./required.3fb15394.js";import{n as T}from"./index.8bbc6ba3.js";import{S as G}from"./Select.696af9c5.js";import"./DateInput.a88975cd.js";import{l as F}from"./index.79acf2d4.js";import{c as W}from"./log.6e7bf5da.js";function z(a,t,e){const r=a.slice();return r[30]=t[e],r}function J(a,t,e){const r=a.slice();return r[30]=t[e],r}function K(a,t,e){const r=a.slice();return r[35]=t[e],r}function M(a){let t,e=a[7],r=[];for(let t=0;t<e.length;t+=1)r[t]=X(K(a,e,t));return{c(){for(let a=0;a<r.length;a+=1)r[a].c();t=c()},l(a){for(let t=0;t<r.length;t+=1)r[t].l(a);t=c()},m(a,e){for(let t=0;t<r.length;t+=1)r[t].m(a,e);i(a,t,e)},p(a,s){if(128&s[0]){let c;for(e=a[7],c=0;c<e.length;c+=1){const i=K(a,e,c);r[c]?r[c].p(i,s):(r[c]=X(i),r[c].c(),r[c].m(t.parentNode,t))}for(;c<r.length;c+=1)r[c].d(1);r.length=e.length}},d(a){_(r,a),a&&m(t)}}}function X(a){let t,e,r,s,c,_,E,g=a[35].path+"",y=a[35].message+"";return{c(){t=l("div"),e=l("span"),r=u(g),s=o(),c=l("br"),_=u(y),E=o(),this.h()},l(a){t=d(a,"DIV",{class:!0});var i=n(t);e=d(i,"SPAN",{class:!0});var l=n(e);r=h(l,g),l.forEach(m),s=b(i),c=d(i,"BR",{}),_=h(i,y),E=b(i),i.forEach(m),this.h()},h(){f(e,"class","has-text-weight-bold"),f(t,"class","notification is-danger")},m(a,l){i(a,t,l),v(t,e),v(e,r),v(t,s),v(t,c),v(t,_),v(t,E)},p(a,t){128&t[0]&&g!==(g=a[35].path+"")&&p(r,g),128&t[0]&&y!==(y=a[35].message+"")&&p(_,y)},d(a){a&&m(t)}}}function Z(a){let t,e;return{c(){t=l("p"),e=u("Purchase Order is required"),this.h()},l(a){t=d(a,"P",{class:!0});var r=n(t);e=h(r,"Purchase Order is required"),r.forEach(m),this.h()},h(){f(t,"class","help is-danger")},m(a,r){i(a,t,r),v(t,e)},d(a){a&&m(t)}}}function Y(a){let t,e;return{c(){t=l("p"),e=u("Purchase Order Item is required"),this.h()},l(a){t=d(a,"P",{class:!0});var r=n(t);e=h(r,"Purchase Order Item is required"),r.forEach(m),this.h()},h(){f(t,"class","help is-danger")},m(a,r){i(a,t,r),v(t,e)},d(a){a&&m(t)}}}function aa(a){let t,e;return{c(){t=l("p"),e=u("Quantity is required"),this.h()},l(a){t=d(a,"P",{class:!0});var r=n(t);e=h(r,"Quantity is required"),r.forEach(m),this.h()},h(){f(t,"class","help is-danger")},m(a,r){i(a,t,r),v(t,e)},d(a){a&&m(t)}}}function ta(a){let t,e,r,s,f,p,E=a[3],g=[];for(let t=0;t<E.length;t+=1)g[t]=ea(J(a,E,t));return{c(){t=l("h5"),e=u("Stock History"),r=o(),s=l("hr"),f=o();for(let a=0;a<g.length;a+=1)g[a].c();p=c()},l(a){t=d(a,"H5",{});var i=n(t);e=h(i,"Stock History"),i.forEach(m),r=b(a),s=d(a,"HR",{}),f=b(a);for(let t=0;t<g.length;t+=1)g[t].l(a);p=c()},m(a,c){i(a,t,c),v(t,e),i(a,r,c),i(a,s,c),i(a,f,c);for(let t=0;t<g.length;t+=1)g[t].m(a,c);i(a,p,c)},p(a,t){if(8&t[0]){let e;for(E=a[3],e=0;e<E.length;e+=1){const r=J(a,E,e);g[e]?g[e].p(r,t):(g[e]=ea(r),g[e].c(),g[e].m(p.parentNode,p))}for(;e<g.length;e+=1)g[e].d(1);g.length=E.length}},d(a){a&&m(t),a&&m(r),a&&m(s),a&&m(f),_(g,a),a&&m(p)}}}function ea(a){let t,e,r,s,c,_,E,g,y,I,k,D,R,P,V,S,B,$,A,x,q,N,w,O,U,Q,H,C,j,L,T,G,F,W,z,J,K,M,X,Z,Y,aa,ta,ea,ra,sa,ca,ia,la,ua,oa,da,na,ha,ma,ba,fa,va,pa,_a,Ea,ga,ya,Ia,ka,Da,Ra,Pa,Va,Sa,Ba,$a,Aa,xa,qa,Na,wa,Oa,Ua,Qa,Ha,Ca,ja,La,Ta,Ga,Fa=a[30].attributes.stock.data.id+"",Wa=a[30].attributes.stock.data.attributes.date+"",za=a[30].attributes.stock.data.attributes.consortium_member?.data.attributes.name+"",Ja=a[30].attributes.stock.data.attributes.warehouse?.data.attributes.name+"",Ka=a[30].id+"",Ma=a[30].attributes.purchase_order_item?.data?.attributes.item?.data?.attributes.name+"",Xa=a[30].attributes.purchase_order_item?.data?.id+"",Za=a[30].attributes.purchase_order_item?.data?.attributes.item?.data?.attributes.category+"",Ya=a[30].attributes.purchase_order_item?.data?.attributes.unit+"",at=a[30].attributes.purchase_order_item?.data?.attributes.pieces+"",tt=a[30].attributes.purchase_order_item?.data?.attributes.quantity+"",et=a[30].attributes.purchase_order_item?.data?.attributes.unitPrice+"",rt=a[30].attributes.purchase_order_item?.data?.attributes.currency+"",st=a[30].attributes.received+"",ct=a[30].attributes.remark+"";return{c(){t=l("div"),e=l("div"),r=u(Fa),s=o(),c=l("div"),_=u(Wa),E=o(),g=l("div"),y=u(za),I=o(),k=l("div"),D=u(Ja),R=o(),P=l("div"),V=l("div"),S=u(Ka),B=o(),$=l("div"),A=l("span"),x=u(Ma),q=u("  - ("),N=u(Xa),w=u(")"),O=o(),U=l("br"),Q=o(),H=l("span"),C=u(Za),j=o(),L=l("div"),T=l("span"),G=u("Unit"),F=o(),W=l("br"),z=o(),J=u(Ya),K=o(),M=l("div"),X=l("span"),Z=u("Pieces"),Y=o(),aa=l("br"),ta=o(),ea=u(at),ra=o(),sa=l("div"),ca=l("span"),ia=u("Quantity"),la=o(),ua=l("br"),oa=o(),da=u(tt),na=o(),ha=l("div"),ma=l("span"),ba=u("Unit Price"),fa=o(),va=l("br"),pa=o(),_a=u(et),Ea=o(),ga=l("div"),ya=l("span"),Ia=u("Currency"),ka=o(),Da=l("br"),Ra=o(),Pa=u(rt),Va=o(),Sa=l("div"),Ba=l("span"),$a=u("Received"),Aa=o(),xa=l("br"),qa=o(),Na=u(st),wa=o(),Oa=l("div"),Ua=l("span"),Qa=u("Remark"),Ha=o(),Ca=l("br"),ja=o(),La=u(ct),Ta=o(),Ga=l("hr"),this.h()},l(a){t=d(a,"DIV",{class:!0});var i=n(t);e=d(i,"DIV",{class:!0});var l=n(e);r=h(l,Fa),l.forEach(m),s=b(i),c=d(i,"DIV",{class:!0});var u=n(c);_=h(u,Wa),u.forEach(m),E=b(i),g=d(i,"DIV",{class:!0});var o=n(g);y=h(o,za),o.forEach(m),I=b(i),k=d(i,"DIV",{class:!0});var f=n(k);D=h(f,Ja),f.forEach(m),i.forEach(m),R=b(a),P=d(a,"DIV",{class:!0});var v=n(P);V=d(v,"DIV",{class:!0});var p=n(V);S=h(p,Ka),p.forEach(m),B=b(v),$=d(v,"DIV",{class:!0});var it=n($);A=d(it,"SPAN",{class:!0});var lt=n(A);x=h(lt,Ma),q=h(lt,"  - ("),N=h(lt,Xa),w=h(lt,")"),lt.forEach(m),O=b(it),U=d(it,"BR",{}),Q=b(it),H=d(it,"SPAN",{class:!0});var ut=n(H);C=h(ut,Za),ut.forEach(m),it.forEach(m),j=b(v),L=d(v,"DIV",{class:!0});var ot=n(L);T=d(ot,"SPAN",{class:!0});var dt=n(T);G=h(dt,"Unit"),dt.forEach(m),F=b(ot),W=d(ot,"BR",{}),z=b(ot),J=h(ot,Ya),ot.forEach(m),K=b(v),M=d(v,"DIV",{class:!0});var nt=n(M);X=d(nt,"SPAN",{class:!0});var ht=n(X);Z=h(ht,"Pieces"),ht.forEach(m),Y=b(nt),aa=d(nt,"BR",{}),ta=b(nt),ea=h(nt,at),nt.forEach(m),ra=b(v),sa=d(v,"DIV",{class:!0});var mt=n(sa);ca=d(mt,"SPAN",{class:!0});var bt=n(ca);ia=h(bt,"Quantity"),bt.forEach(m),la=b(mt),ua=d(mt,"BR",{}),oa=b(mt),da=h(mt,tt),mt.forEach(m),na=b(v),ha=d(v,"DIV",{class:!0});var ft=n(ha);ma=d(ft,"SPAN",{class:!0});var vt=n(ma);ba=h(vt,"Unit Price"),vt.forEach(m),fa=b(ft),va=d(ft,"BR",{}),pa=b(ft),_a=h(ft,et),ft.forEach(m),Ea=b(v),ga=d(v,"DIV",{class:!0});var pt=n(ga);ya=d(pt,"SPAN",{class:!0});var _t=n(ya);Ia=h(_t,"Currency"),_t.forEach(m),ka=b(pt),Da=d(pt,"BR",{}),Ra=b(pt),Pa=h(pt,rt),pt.forEach(m),Va=b(v),Sa=d(v,"DIV",{class:!0});var Et=n(Sa);Ba=d(Et,"SPAN",{class:!0});var gt=n(Ba);$a=h(gt,"Received"),gt.forEach(m),Aa=b(Et),xa=d(Et,"BR",{}),qa=b(Et),Na=h(Et,st),Et.forEach(m),wa=b(v),Oa=d(v,"DIV",{class:!0});var yt=n(Oa);Ua=d(yt,"SPAN",{class:!0});var It=n(Ua);Qa=h(It,"Remark"),It.forEach(m),Ha=b(yt),Ca=d(yt,"BR",{}),ja=b(yt),La=h(yt,ct),yt.forEach(m),v.forEach(m),Ta=b(a),Ga=d(a,"HR",{}),this.h()},h(){f(e,"class","column is-narrow"),f(c,"class","column"),f(g,"class","column"),f(k,"class","column"),f(t,"class","columns has-text-weight-bold"),f(V,"class","column is-narrow gray"),f(A,"class",""),f(H,"class","gray"),f($,"class","column is-3"),f(T,"class","is-small tag"),f(L,"class","column has-text-centered"),f(X,"class","is-small tag"),f(M,"class","column has-text-centered"),f(ca,"class","is-small tag"),f(sa,"class","column has-text-centered"),f(ma,"class","is-small tag"),f(ha,"class","column has-text-centered"),f(ya,"class","is-small tag"),f(ga,"class","column has-text-centered"),f(Ba,"class","is-small tag"),f(Sa,"class","column has-text-centered"),f(Ua,"class","is-small tag"),f(Oa,"class","column has-text-centered"),f(P,"class","columns")},m(a,l){i(a,t,l),v(t,e),v(e,r),v(t,s),v(t,c),v(c,_),v(t,E),v(t,g),v(g,y),v(t,I),v(t,k),v(k,D),i(a,R,l),i(a,P,l),v(P,V),v(V,S),v(P,B),v(P,$),v($,A),v(A,x),v(A,q),v(A,N),v(A,w),v($,O),v($,U),v($,Q),v($,H),v(H,C),v(P,j),v(P,L),v(L,T),v(T,G),v(L,F),v(L,W),v(L,z),v(L,J),v(P,K),v(P,M),v(M,X),v(X,Z),v(M,Y),v(M,aa),v(M,ta),v(M,ea),v(P,ra),v(P,sa),v(sa,ca),v(ca,ia),v(sa,la),v(sa,ua),v(sa,oa),v(sa,da),v(P,na),v(P,ha),v(ha,ma),v(ma,ba),v(ha,fa),v(ha,va),v(ha,pa),v(ha,_a),v(P,Ea),v(P,ga),v(ga,ya),v(ya,Ia),v(ga,ka),v(ga,Da),v(ga,Ra),v(ga,Pa),v(P,Va),v(P,Sa),v(Sa,Ba),v(Ba,$a),v(Sa,Aa),v(Sa,xa),v(Sa,qa),v(Sa,Na),v(P,wa),v(P,Oa),v(Oa,Ua),v(Ua,Qa),v(Oa,Ha),v(Oa,Ca),v(Oa,ja),v(Oa,La),i(a,Ta,l),i(a,Ga,l)},p(a,t){8&t[0]&&Fa!==(Fa=a[30].attributes.stock.data.id+"")&&p(r,Fa),8&t[0]&&Wa!==(Wa=a[30].attributes.stock.data.attributes.date+"")&&p(_,Wa),8&t[0]&&za!==(za=a[30].attributes.stock.data.attributes.consortium_member?.data.attributes.name+"")&&p(y,za),8&t[0]&&Ja!==(Ja=a[30].attributes.stock.data.attributes.warehouse?.data.attributes.name+"")&&p(D,Ja),8&t[0]&&Ka!==(Ka=a[30].id+"")&&p(S,Ka),8&t[0]&&Ma!==(Ma=a[30].attributes.purchase_order_item?.data?.attributes.item?.data?.attributes.name+"")&&p(x,Ma),8&t[0]&&Xa!==(Xa=a[30].attributes.purchase_order_item?.data?.id+"")&&p(N,Xa),8&t[0]&&Za!==(Za=a[30].attributes.purchase_order_item?.data?.attributes.item?.data?.attributes.category+"")&&p(C,Za),8&t[0]&&Ya!==(Ya=a[30].attributes.purchase_order_item?.data?.attributes.unit+"")&&p(J,Ya),8&t[0]&&at!==(at=a[30].attributes.purchase_order_item?.data?.attributes.pieces+"")&&p(ea,at),8&t[0]&&tt!==(tt=a[30].attributes.purchase_order_item?.data?.attributes.quantity+"")&&p(da,tt),8&t[0]&&et!==(et=a[30].attributes.purchase_order_item?.data?.attributes.unitPrice+"")&&p(_a,et),8&t[0]&&rt!==(rt=a[30].attributes.purchase_order_item?.data?.attributes.currency+"")&&p(Pa,rt),8&t[0]&&st!==(st=a[30].attributes.received+"")&&p(Na,st),8&t[0]&&ct!==(ct=a[30].attributes.remark+"")&&p(La,ct)},d(a){a&&m(t),a&&m(R),a&&m(P),a&&m(Ta),a&&m(Ga)}}}function ra(a){let t,e,r,s,f,p,E=a[4],g=[];for(let t=0;t<E.length;t+=1)g[t]=sa(z(a,E,t));return{c(){t=l("h5"),e=u("Stock Release History"),r=o(),s=l("hr"),f=o();for(let a=0;a<g.length;a+=1)g[a].c();p=c()},l(a){t=d(a,"H5",{});var i=n(t);e=h(i,"Stock Release History"),i.forEach(m),r=b(a),s=d(a,"HR",{}),f=b(a);for(let t=0;t<g.length;t+=1)g[t].l(a);p=c()},m(a,c){i(a,t,c),v(t,e),i(a,r,c),i(a,s,c),i(a,f,c);for(let t=0;t<g.length;t+=1)g[t].m(a,c);i(a,p,c)},p(a,t){if(16&t[0]){let e;for(E=a[4],e=0;e<E.length;e+=1){const r=z(a,E,e);g[e]?g[e].p(r,t):(g[e]=sa(r),g[e].c(),g[e].m(p.parentNode,p))}for(;e<g.length;e+=1)g[e].d(1);g.length=E.length}},d(a){a&&m(t),a&&m(r),a&&m(s),a&&m(f),_(g,a),a&&m(p)}}}function sa(a){let t,e,r,s,c,_,E,g,y,I,k,D,R,P,V,S,B,$,A,x,q,N,w,O,U,Q,H,C,j,L,T,G,F,W,z,J,K,M,X,Z,Y,aa,ta,ea,ra,sa,ca,ia,la,ua,oa,da,na,ha,ma,ba,fa,va,pa,_a,Ea,ga,ya,Ia,ka,Da,Ra,Pa,Va,Sa,Ba,$a,Aa,xa,qa,Na,wa,Oa,Ua,Qa,Ha,Ca,ja,La=a[30].attributes.stock_release.data.id+"",Ta=a[30].attributes.stock_release.data.attributes.date+"",Ga=a[30].attributes.stock_release.data.attributes.consortium_member?.data.attributes.name+"",Fa=a[30].id+"",Wa=a[30].attributes.purchase_order_item?.data?.attributes.item?.data?.attributes.name+"",za=a[30].attributes.purchase_order_item?.data?.id+"",Ja=a[30].attributes.purchase_order_item?.data?.attributes.item?.data?.attributes.category+"",Ka=a[30].attributes.purchase_order_item?.data?.attributes.unit+"",Ma=a[30].attributes.purchase_order_item?.data?.attributes.pieces+"",Xa=a[30].attributes.purchase_order_item?.data?.attributes.quantity+"",Za=a[30].attributes.purchase_order_item?.data?.attributes.unitPrice+"",Ya=a[30].attributes.purchase_order_item?.data?.attributes.currency+"",at=a[30].attributes.quantity+"",tt=a[30].attributes.remark+"";return{c(){t=l("div"),e=l("div"),r=u(La),s=o(),c=l("div"),_=u(Ta),E=o(),g=l("div"),y=u(Ga),I=o(),k=l("div"),D=l("div"),R=u(Fa),P=o(),V=l("div"),S=l("span"),B=u(Wa),$=u("  - ("),A=u(za),x=u(")"),q=o(),N=l("br"),w=o(),O=l("span"),U=u(Ja),Q=o(),H=l("div"),C=l("span"),j=u("Unit"),L=o(),T=l("br"),G=o(),F=u(Ka),W=o(),z=l("div"),J=l("span"),K=u("Pieces"),M=o(),X=l("br"),Z=o(),Y=u(Ma),aa=o(),ta=l("div"),ea=l("span"),ra=u("Quantity"),sa=o(),ca=l("br"),ia=o(),la=u(Xa),ua=o(),oa=l("div"),da=l("span"),na=u("Unit Price"),ha=o(),ma=l("br"),ba=o(),fa=u(Za),va=o(),pa=l("div"),_a=l("span"),Ea=u("Currency"),ga=o(),ya=l("br"),Ia=o(),ka=u(Ya),Da=o(),Ra=l("div"),Pa=l("span"),Va=u("Quantity"),Sa=o(),Ba=l("br"),$a=o(),Aa=u(at),xa=o(),qa=l("div"),Na=l("span"),wa=u("Remark"),Oa=o(),Ua=l("br"),Qa=o(),Ha=u(tt),Ca=o(),ja=l("hr"),this.h()},l(a){t=d(a,"DIV",{class:!0});var i=n(t);e=d(i,"DIV",{class:!0});var l=n(e);r=h(l,La),l.forEach(m),s=b(i),c=d(i,"DIV",{class:!0});var u=n(c);_=h(u,Ta),u.forEach(m),E=b(i),g=d(i,"DIV",{class:!0});var o=n(g);y=h(o,Ga),o.forEach(m),i.forEach(m),I=b(a),k=d(a,"DIV",{class:!0});var f=n(k);D=d(f,"DIV",{class:!0});var v=n(D);R=h(v,Fa),v.forEach(m),P=b(f),V=d(f,"DIV",{class:!0});var p=n(V);S=d(p,"SPAN",{class:!0});var et=n(S);B=h(et,Wa),$=h(et,"  - ("),A=h(et,za),x=h(et,")"),et.forEach(m),q=b(p),N=d(p,"BR",{}),w=b(p),O=d(p,"SPAN",{class:!0});var rt=n(O);U=h(rt,Ja),rt.forEach(m),p.forEach(m),Q=b(f),H=d(f,"DIV",{class:!0});var st=n(H);C=d(st,"SPAN",{class:!0});var ct=n(C);j=h(ct,"Unit"),ct.forEach(m),L=b(st),T=d(st,"BR",{}),G=b(st),F=h(st,Ka),st.forEach(m),W=b(f),z=d(f,"DIV",{class:!0});var it=n(z);J=d(it,"SPAN",{class:!0});var lt=n(J);K=h(lt,"Pieces"),lt.forEach(m),M=b(it),X=d(it,"BR",{}),Z=b(it),Y=h(it,Ma),it.forEach(m),aa=b(f),ta=d(f,"DIV",{class:!0});var ut=n(ta);ea=d(ut,"SPAN",{class:!0});var ot=n(ea);ra=h(ot,"Quantity"),ot.forEach(m),sa=b(ut),ca=d(ut,"BR",{}),ia=b(ut),la=h(ut,Xa),ut.forEach(m),ua=b(f),oa=d(f,"DIV",{class:!0});var dt=n(oa);da=d(dt,"SPAN",{class:!0});var nt=n(da);na=h(nt,"Unit Price"),nt.forEach(m),ha=b(dt),ma=d(dt,"BR",{}),ba=b(dt),fa=h(dt,Za),dt.forEach(m),va=b(f),pa=d(f,"DIV",{class:!0});var ht=n(pa);_a=d(ht,"SPAN",{class:!0});var mt=n(_a);Ea=h(mt,"Currency"),mt.forEach(m),ga=b(ht),ya=d(ht,"BR",{}),Ia=b(ht),ka=h(ht,Ya),ht.forEach(m),Da=b(f),Ra=d(f,"DIV",{class:!0});var bt=n(Ra);Pa=d(bt,"SPAN",{class:!0});var ft=n(Pa);Va=h(ft,"Quantity"),ft.forEach(m),Sa=b(bt),Ba=d(bt,"BR",{}),$a=b(bt),Aa=h(bt,at),bt.forEach(m),xa=b(f),qa=d(f,"DIV",{class:!0});var vt=n(qa);Na=d(vt,"SPAN",{class:!0});var pt=n(Na);wa=h(pt,"Remark"),pt.forEach(m),Oa=b(vt),Ua=d(vt,"BR",{}),Qa=b(vt),Ha=h(vt,tt),vt.forEach(m),f.forEach(m),Ca=b(a),ja=d(a,"HR",{}),this.h()},h(){f(e,"class","column is-narrow"),f(c,"class","column"),f(g,"class","column"),f(t,"class","columns has-text-weight-bold"),f(D,"class","column is-narrow gray"),f(S,"class",""),f(O,"class","gray"),f(V,"class","column is-3"),f(C,"class","is-small tag"),f(H,"class","column has-text-centered"),f(J,"class","is-small tag"),f(z,"class","column has-text-centered"),f(ea,"class","is-small tag"),f(ta,"class","column has-text-centered"),f(da,"class","is-small tag"),f(oa,"class","column has-text-centered"),f(_a,"class","is-small tag"),f(pa,"class","column has-text-centered"),f(Pa,"class","is-small tag"),f(Ra,"class","column has-text-centered"),f(Na,"class","is-small tag"),f(qa,"class","column has-text-centered"),f(k,"class","columns")},m(a,l){i(a,t,l),v(t,e),v(e,r),v(t,s),v(t,c),v(c,_),v(t,E),v(t,g),v(g,y),i(a,I,l),i(a,k,l),v(k,D),v(D,R),v(k,P),v(k,V),v(V,S),v(S,B),v(S,$),v(S,A),v(S,x),v(V,q),v(V,N),v(V,w),v(V,O),v(O,U),v(k,Q),v(k,H),v(H,C),v(C,j),v(H,L),v(H,T),v(H,G),v(H,F),v(k,W),v(k,z),v(z,J),v(J,K),v(z,M),v(z,X),v(z,Z),v(z,Y),v(k,aa),v(k,ta),v(ta,ea),v(ea,ra),v(ta,sa),v(ta,ca),v(ta,ia),v(ta,la),v(k,ua),v(k,oa),v(oa,da),v(da,na),v(oa,ha),v(oa,ma),v(oa,ba),v(oa,fa),v(k,va),v(k,pa),v(pa,_a),v(_a,Ea),v(pa,ga),v(pa,ya),v(pa,Ia),v(pa,ka),v(k,Da),v(k,Ra),v(Ra,Pa),v(Pa,Va),v(Ra,Sa),v(Ra,Ba),v(Ra,$a),v(Ra,Aa),v(k,xa),v(k,qa),v(qa,Na),v(Na,wa),v(qa,Oa),v(qa,Ua),v(qa,Qa),v(qa,Ha),i(a,Ca,l),i(a,ja,l)},p(a,t){16&t[0]&&La!==(La=a[30].attributes.stock_release.data.id+"")&&p(r,La),16&t[0]&&Ta!==(Ta=a[30].attributes.stock_release.data.attributes.date+"")&&p(_,Ta),16&t[0]&&Ga!==(Ga=a[30].attributes.stock_release.data.attributes.consortium_member?.data.attributes.name+"")&&p(y,Ga),16&t[0]&&Fa!==(Fa=a[30].id+"")&&p(R,Fa),16&t[0]&&Wa!==(Wa=a[30].attributes.purchase_order_item?.data?.attributes.item?.data?.attributes.name+"")&&p(B,Wa),16&t[0]&&za!==(za=a[30].attributes.purchase_order_item?.data?.id+"")&&p(A,za),16&t[0]&&Ja!==(Ja=a[30].attributes.purchase_order_item?.data?.attributes.item?.data?.attributes.category+"")&&p(U,Ja),16&t[0]&&Ka!==(Ka=a[30].attributes.purchase_order_item?.data?.attributes.unit+"")&&p(F,Ka),16&t[0]&&Ma!==(Ma=a[30].attributes.purchase_order_item?.data?.attributes.pieces+"")&&p(Y,Ma),16&t[0]&&Xa!==(Xa=a[30].attributes.purchase_order_item?.data?.attributes.quantity+"")&&p(la,Xa),16&t[0]&&Za!==(Za=a[30].attributes.purchase_order_item?.data?.attributes.unitPrice+"")&&p(fa,Za),16&t[0]&&Ya!==(Ya=a[30].attributes.purchase_order_item?.data?.attributes.currency+"")&&p(ka,Ya),16&t[0]&&at!==(at=a[30].attributes.quantity+"")&&p(Aa,at),16&t[0]&&tt!==(tt=a[30].attributes.remark+"")&&p(Ha,tt)},d(a){a&&m(t),a&&m(I),a&&m(k),a&&m(Ca),a&&m(ja)}}}function ca(a){let t,e,c,_,w,O,U,Q,H,C,j,L,F,W,z,J,K,X,ea,sa,ca,ia,la,ua,oa,da,na,ha,ma,ba,fa,va,pa,_a,Ea,ga,ya,Ia,ka,Da,Ra,Pa,Va,Sa,Ba,$a,Aa,xa,qa,Na,wa,Oa,Ua,Qa,Ha,Ca,ja,La,Ta,Ga,Fa,Wa,za,Ja,Ka,Ma,Xa,Za,Ya,at,tt,et,rt,st,ct,it,lt,ut,ot,dt,nt,ht,mt,bt,ft,vt,pt,_t,Et,gt,yt,It,kt,Dt,Rt,Pt,Vt,St,Bt=a[10].hasError("purchase_order.required"),$t=a[10].hasError("purchase_order_item.required"),At=a[10].hasError("quantity.required"),xt=T(a[2])+"",qt=T(a[2]-a[8].value)+"";Q=new r({props:{data:s}});let Nt=a[7]&&M(a);function wt(t){a[20](t)}let Ot={items:a[5],listAutoWidth:!0};void 0!==a[11].value&&(Ot.value=a[11].value),Va=new G({props:Ot}),E.push((()=>g(Va,"value",wt))),Va.$on("select",a[17]);let Ut=Bt&&Z();function Qt(t){a[21](t)}let Ht={items:a[6]};void 0!==a[9].value&&(Ht.value=a[9].value),Qa=new G({props:Ht}),E.push((()=>g(Qa,"value",Qt))),Qa.$on("select",a[18]);let Ct=$t&&Y(),jt=At&&aa(),Lt=a[3]&&ta(a),Tt=a[4]&&ra(a);return{c(){t=o(),e=l("br"),c=l("br"),_=o(),w=l("div"),O=l("a"),U=l("span"),y(Q.$$.fragment),H=u(" Back"),j=o(),L=l("br"),F=l("br"),W=o(),z=l("div"),J=l("br"),K=l("br"),X=o(),ea=l("div"),sa=l("div"),ca=l("h3"),ia=u("Edit Stock Release Item"),la=o(),ua=l("p"),oa=u("Complete the form below and click save."),da=o(),na=l("div"),ha=l("button"),ma=u("Save"),fa=o(),va=l("br"),pa=o(),Nt&&Nt.c(),_a=o(),Ea=l("form"),ga=l("div"),ya=l("div"),Ia=l("div"),ka=l("label"),Da=u("Purchase Order (*)"),Ra=o(),Pa=l("div"),y(Va.$$.fragment),Ba=o(),Ut&&Ut.c(),$a=o(),Aa=l("div"),xa=l("div"),qa=l("div"),Na=l("label"),wa=u("Item (*)"),Oa=o(),Ua=l("div"),y(Qa.$$.fragment),Ca=o(),Ct&&Ct.c(),ja=o(),La=l("div"),Ta=l("div"),Ga=l("label"),Fa=u("Quantity"),Wa=l("br"),za=o(),Ja=l("input"),Ka=o(),jt&&jt.c(),Ma=o(),Xa=l("div"),Za=l("div"),Ya=l("label"),at=u("Remark"),tt=l("br"),et=o(),rt=l("div"),st=l("textarea"),ct=o(),it=l("div"),lt=l("div"),ut=l("br"),ot=o(),dt=l("span"),nt=u("Amount In Stock-"),ht=o(),mt=u(xt),bt=o(),ft=l("br"),vt=o(),pt=l("span"),_t=u("Differnece -"),Et=o(),gt=u(qt),yt=o(),Lt&&Lt.c(),It=o(),Tt&&Tt.c(),kt=o(),Dt=l("br"),Rt=l("br"),this.h()},l(a){I('[data-svelte="svelte-altek3"]',document.head).forEach(m),t=b(a),e=d(a,"BR",{}),c=d(a,"BR",{}),_=b(a),w=d(a,"DIV",{class:!0});var r=n(w);O=d(r,"A",{href:!0,class:!0});var s=n(O);U=d(s,"SPAN",{class:!0});var i=n(U);k(Q.$$.fragment,i),i.forEach(m),H=h(s," Back"),s.forEach(m),j=b(r),L=d(r,"BR",{}),F=d(r,"BR",{}),W=b(r),z=d(r,"DIV",{class:!0});var l=n(z);J=d(l,"BR",{}),K=d(l,"BR",{}),X=b(l),ea=d(l,"DIV",{class:!0});var u=n(ea);sa=d(u,"DIV",{class:!0});var o=n(sa);ca=d(o,"H3",{class:!0});var f=n(ca);ia=h(f,"Edit Stock Release Item"),f.forEach(m),la=b(o),ua=d(o,"P",{class:!0});var v=n(ua);oa=h(v,"Complete the form below and click save."),v.forEach(m),o.forEach(m),da=b(u),na=d(u,"DIV",{class:!0});var p=n(na);ha=d(p,"BUTTON",{class:!0});var E=n(ha);ma=h(E,"Save"),E.forEach(m),p.forEach(m),u.forEach(m),fa=b(l),va=d(l,"BR",{}),pa=b(l),Nt&&Nt.l(l),_a=b(l),Ea=d(l,"FORM",{});var g=n(Ea);ga=d(g,"DIV",{class:!0});var y=n(ga);ya=d(y,"DIV",{class:!0});var D=n(ya);Ia=d(D,"DIV",{class:!0});var R=n(Ia);ka=d(R,"LABEL",{for:!0,class:!0});var P=n(ka);Da=h(P,"Purchase Order (*)"),P.forEach(m),Ra=b(R),Pa=d(R,"DIV",{class:!0});var V=n(Pa);k(Va.$$.fragment,V),V.forEach(m),Ba=b(R),Ut&&Ut.l(R),R.forEach(m),D.forEach(m),y.forEach(m),$a=b(g),Aa=d(g,"DIV",{class:!0});var S=n(Aa);xa=d(S,"DIV",{class:!0});var B=n(xa);qa=d(B,"DIV",{class:!0});var $=n(qa);Na=d($,"LABEL",{for:!0,class:!0});var A=n(Na);wa=h(A,"Item (*)"),A.forEach(m),Oa=b($),Ua=d($,"DIV",{class:!0});var x=n(Ua);k(Qa.$$.fragment,x),x.forEach(m),Ca=b($),Ct&&Ct.l($),$.forEach(m),B.forEach(m),S.forEach(m),ja=b(g),La=d(g,"DIV",{class:!0});var q=n(La);Ta=d(q,"DIV",{class:!0});var N=n(Ta);Ga=d(N,"LABEL",{for:!0,class:!0});var C=n(Ga);Fa=h(C,"Quantity"),C.forEach(m),Wa=d(N,"BR",{}),za=b(N),Ja=d(N,"INPUT",{type:!0,placeholder:!0,class:!0}),Ka=b(N),jt&&jt.l(N),N.forEach(m),Ma=b(q),Xa=d(q,"DIV",{class:!0});var T=n(Xa);Za=d(T,"DIV",{class:!0});var G=n(Za);Ya=d(G,"LABEL",{for:!0,class:!0});var M=n(Ya);at=h(M,"Remark"),M.forEach(m),tt=d(G,"BR",{}),et=b(G),rt=d(G,"DIV",{class:!0});var Z=n(rt);st=d(Z,"TEXTAREA",{rows:!0,class:!0}),n(st).forEach(m),Z.forEach(m),G.forEach(m),T.forEach(m),q.forEach(m),ct=b(g),it=d(g,"DIV",{class:!0});var Y=n(it);lt=d(Y,"DIV",{class:!0});var aa=n(lt);ut=d(aa,"BR",{}),ot=b(aa),dt=d(aa,"SPAN",{class:!0});var ta=n(dt);nt=h(ta,"Amount In Stock-"),ta.forEach(m),ht=b(aa),mt=h(aa,xt),bt=b(aa),ft=d(aa,"BR",{}),vt=b(aa),pt=d(aa,"SPAN",{class:!0});var ra=n(pt);_t=h(ra,"Differnece -"),ra.forEach(m),Et=b(aa),gt=h(aa,qt),aa.forEach(m),Y.forEach(m),yt=b(g),Lt&&Lt.l(g),It=b(g),Tt&&Tt.l(g),g.forEach(m),kt=b(l),Dt=d(l,"BR",{}),Rt=d(l,"BR",{}),l.forEach(m),r.forEach(m),this.h()},h(){document.title="Edit Stock Release Item",f(U,"class","icon is-small"),f(O,"href",C="stock-releases/edit/"+a[0]),f(O,"class","has-text-dark"),f(ca,"class","my-0"),f(ua,"class","gray py-0"),f(sa,"class","column"),ha.disabled=ba=!a[10].valid||!a[10].dirty,f(ha,"class","button is-dark my-2 px-5 py-2 has-text-weight-bold"),f(na,"class","column has-text-right"),f(ea,"class","columns"),f(ka,"for",""),f(ka,"class","gray"),f(Pa,"class","control"),f(Ia,"class","field"),f(ya,"class","column"),f(ga,"class","columns"),f(Na,"for",""),f(Na,"class","gray"),f(Ua,"class","control"),f(qa,"class","field"),f(xa,"class","column"),f(Aa,"class","columns"),f(Ga,"for",""),f(Ga,"class","gray"),f(Ja,"type","number"),f(Ja,"placeholder","Unit Price"),f(Ja,"class","input svelte-1985fv4"),D(Ja,"is-danger",a[2]-a[8].value<0),f(Ta,"class","column"),f(Ya,"for",""),f(Ya,"class","gray"),f(st,"rows","1"),f(st,"class","textarea"),f(rt,"class","control is-fullwidth"),f(Za,"class","field"),f(Xa,"class","column"),f(La,"class","columns"),f(dt,"class","has-text-weight-bold"),f(pt,"class","has-text-weight-bold"),f(lt,"class","column has-text-right"),f(it,"class","columns"),f(z,"class","card px-6 svelte-1985fv4"),f(w,"class","container px-6")},m(r,s){i(r,t,s),i(r,e,s),i(r,c,s),i(r,_,s),i(r,w,s),v(w,O),v(O,U),R(Q,U,null),v(O,H),v(w,j),v(w,L),v(w,F),v(w,W),v(w,z),v(z,J),v(z,K),v(z,X),v(z,ea),v(ea,sa),v(sa,ca),v(ca,ia),v(sa,la),v(sa,ua),v(ua,oa),v(ea,da),v(ea,na),v(na,ha),v(ha,ma),v(z,fa),v(z,va),v(z,pa),Nt&&Nt.m(z,null),v(z,_a),v(z,Ea),v(Ea,ga),v(ga,ya),v(ya,Ia),v(Ia,ka),v(ka,Da),v(Ia,Ra),v(Ia,Pa),R(Va,Pa,null),v(Ia,Ba),Ut&&Ut.m(Ia,null),v(Ea,$a),v(Ea,Aa),v(Aa,xa),v(xa,qa),v(qa,Na),v(Na,wa),v(qa,Oa),v(qa,Ua),R(Qa,Ua,null),v(qa,Ca),Ct&&Ct.m(qa,null),v(Ea,ja),v(Ea,La),v(La,Ta),v(Ta,Ga),v(Ga,Fa),v(Ta,Wa),v(Ta,za),v(Ta,Ja),P(Ja,a[8].value),v(Ta,Ka),jt&&jt.m(Ta,null),v(La,Ma),v(La,Xa),v(Xa,Za),v(Za,Ya),v(Ya,at),v(Za,tt),v(Za,et),v(Za,rt),v(rt,st),P(st,a[1]),v(Ea,ct),v(Ea,it),v(it,lt),v(lt,ut),v(lt,ot),v(lt,dt),v(dt,nt),v(lt,ht),v(lt,mt),v(lt,bt),v(lt,ft),v(lt,vt),v(lt,pt),v(pt,_t),v(lt,Et),v(lt,gt),v(Ea,yt),Lt&&Lt.m(Ea,null),v(Ea,It),Tt&&Tt.m(Ea,null),v(z,kt),v(z,Dt),v(z,Rt),Pt=!0,Vt||(St=[V(ha,"click",S(a[16])),V(Ja,"input",a[22]),V(st,"input",a[23])],Vt=!0)},p(a,t){(!Pt||1&t[0]&&C!==(C="stock-releases/edit/"+a[0]))&&f(O,"href",C),(!Pt||1024&t[0]&&ba!==(ba=!a[10].valid||!a[10].dirty))&&(ha.disabled=ba),a[7]?Nt?Nt.p(a,t):(Nt=M(a),Nt.c(),Nt.m(z,_a)):Nt&&(Nt.d(1),Nt=null);const e={};32&t[0]&&(e.items=a[5]),!Sa&&2048&t[0]&&(Sa=!0,e.value=a[11].value,B((()=>Sa=!1))),Va.$set(e),1024&t[0]&&(Bt=a[10].hasError("purchase_order.required")),Bt?Ut||(Ut=Z(),Ut.c(),Ut.m(Ia,null)):Ut&&(Ut.d(1),Ut=null);const r={};64&t[0]&&(r.items=a[6]),!Ha&&512&t[0]&&(Ha=!0,r.value=a[9].value,B((()=>Ha=!1))),Qa.$set(r),1024&t[0]&&($t=a[10].hasError("purchase_order_item.required")),$t?Ct||(Ct=Y(),Ct.c(),Ct.m(qa,null)):Ct&&(Ct.d(1),Ct=null),256&t[0]&&$(Ja.value)!==a[8].value&&P(Ja,a[8].value),260&t[0]&&D(Ja,"is-danger",a[2]-a[8].value<0),1024&t[0]&&(At=a[10].hasError("quantity.required")),At?jt||(jt=aa(),jt.c(),jt.m(Ta,null)):jt&&(jt.d(1),jt=null),2&t[0]&&P(st,a[1]),(!Pt||4&t[0])&&xt!==(xt=T(a[2])+"")&&p(mt,xt),(!Pt||260&t[0])&&qt!==(qt=T(a[2]-a[8].value)+"")&&p(gt,qt),a[3]?Lt?Lt.p(a,t):(Lt=ta(a),Lt.c(),Lt.m(Ea,It)):Lt&&(Lt.d(1),Lt=null),a[4]?Tt?Tt.p(a,t):(Tt=ra(a),Tt.c(),Tt.m(Ea,null)):Tt&&(Tt.d(1),Tt=null)},i(a){Pt||(A(Q.$$.fragment,a),A(Va.$$.fragment,a),A(Qa.$$.fragment,a),Pt=!0)},o(a){x(Q.$$.fragment,a),x(Va.$$.fragment,a),x(Qa.$$.fragment,a),Pt=!1},d(a){a&&m(t),a&&m(e),a&&m(c),a&&m(_),a&&m(w),q(Q),Nt&&Nt.d(),q(Va),Ut&&Ut.d(),q(Qa),Ct&&Ct.d(),jt&&jt.d(),Lt&&Lt.d(),Tt&&Tt.d(),Vt=!1,N(St)}}}async function ia(a){return{slug:parseInt(a.params.slug)}}function la(a,t,e){let r,s,c,i,l,{slug:u}=t;const o=C("consortium_member","",[j()]),d=C("date",new Date,[j()]);L(o,d);const n=C("purchase_order",null,[j()]);w(a,n,(a=>e(11,i=a)));const h=C("purchase_order_item",null,[j()]);w(a,h,(a=>e(9,s=a)));const m=C("quantity","",[j()]);w(a,m,(a=>e(8,r=a)));let b="",f=0,v=[],p=[];const _=L(n,h,m);w(a,_,(a=>e(10,c=a)));let E,g=[],y=[];async function I(){try{let a={populate:["stock_release","stock_release.consortium_member","purchase_order_item","purchase_order_item.item","purchase_order_item.purchase_order"]};a=F.stringify(a,{encodeValuesOnly:!0});let t=await H("stock-release-items/"+u,a);console.log("Get Stock Release by ID ",t),async function(a){n.set(""),h.set(""),e(2,f=0),e(3,v=[]);try{let a={populate:{consortium_member:{populate:"*"},purchase_order_items:{populate:"*"}},"pagination[limit]":-1};a=F.stringify(a,{encodeValuesOnly:!0});let t=await H("purchase-orders",a);console.log("Get Purchase Orders ",t),e(5,g=t.data.map((a=>({value:a.id,label:"PO# - "+a.attributes.poNumber+" - "+a.attributes.consortium_member.data?.attributes.name+"  ------- Date   "+a.attributes.date+"    ID    "+a.id,data:a}))))}catch(a){console.log("Error Purchase Orders ",a)}}(t.data?.attributes.stock_release.data?.attributes.consortium_member.data?.id),n.set({value:t.data.attributes.purchase_order_item.data.attributes.purchase_order.data?.id,label:"PO# - "+t.data.attributes.purchase_order_item.data.attributes.purchase_order.data?.attributes.poNumber+"  ------- Date   "+t.data.attributes.purchase_order_item.data.attributes.purchase_order.data?.attributes.date+"    ID    "+t.data.attributes.purchase_order_item.data.attributes.purchase_order.data?.id,data:t.data.attributes.purchase_order_item.data.attributes.purchase_order.data}),h.set({value:t.data.attributes.purchase_order_item.data.id,label:t.data.attributes.purchase_order_item.data?.attributes.item.data.attributes.name+"-"+t.data.attributes.purchase_order_item.data?.attributes.item.data.attributes.category+"  --- Unit - "+t.data.attributes.purchase_order_item.data?.attributes.unit+" - Pieces - "+t.data.attributes.purchase_order_item.data?.attributes.pieces+" - Quantity - "+t.data.attributes.purchase_order_item.data?.attributes.quantity+" - Unit Price - "+t.data.attributes.purchase_order_item.data?.attributes.unitPrice+" - Currency - "+t.data.attributes.purchase_order_item.data?.attributes.currency+"    ID    "+t.data.attributes.purchase_order_item.data?.id,data:t.data.attributes.purchase_order_item.data}),m.set(t.data.attributes.quantity),e(1,b=t.data.attributes.remark),e(0,l=t.data?.attributes.stock_release?.data?.id)}catch(a){console.log("Error get Stock Release Item by ID ",a)}}return a.$$set=a=>{"slug"in a&&e(19,u=a.slug)},a.$$.update=()=>{524288&a.$$.dirty[0]&&u&&I()},[l,b,f,v,p,g,y,E,r,s,c,i,n,h,m,_,async function(){if(await _.validate(),c.valid&&!(f-r.value<0))try{let a={populate:["stock_release","stock_release.consortium_member","purchase_order_item","purchase_order_item.item",,"purchase_order_item.purchase_order"]};a=F.stringify(a,{encodeValuesOnly:!0});let t=await O({path:"stock-release-items/"+u+"?"+a,data:{data:{purchase_order_item:s.value.value,quantity:r.value,remark:b}}});console.log("Edit Stock Release Item Request  ",t),t.data?.id&&(U.push("Stock Release Item Edited Successfully!",{duration:2e4,theme:{"--toastBackground":"#48BB78","--toastBarBackground":"#2F855A"}}),W("Stock Release Item",t.data,"Edit",t.data.id),Q("stock-releases/edit/"+l))}catch(a){console.log("Error Edit Stock Release Item   ",a),e(7,E=a.error?.details.errors),U.push("Stock Release Item Could Not Be Edited! \n\n"+a.error?.message,{duration:2e4,theme:{"--toastBackground":"#bb4848","--toastBarBackground":"#852f2f"}})}},async function(a){a.detail?.value&&g.length>0&&(console.log(g),e(6,y=g.filter((t=>t.value==a.detail.value))[0].data?.attributes.purchase_order_items.data),e(6,y=y.map((a=>({value:a.id,label:a.attributes.item.data.attributes.name+"-"+a.attributes.item.data.attributes.category+"  --- Unit - "+a.attributes.unit+" - Pieces - "+a.attributes.pieces+" - Quantity - "+a.attributes.quantity+" - Unit Price - "+a.attributes.unitPrice+" - Currency - "+a.attributes.currency+"    ID    "+a.id,data:a})))))},async function(a){if(a.detail?.data)try{let t={populate:["stock","stock.consortium_member","stock.warehouse","purchase_order_item","purchase_order_item.item"],filters:{purchase_order_item:{id:{$in:[a.detail.data.id]}}},"pagination[limit]":-1};t=F.stringify(t,{encodeValuesOnly:!0});let r=await H("stock-items",t);console.log("Get Stock Items ",r);let s=0;return e(3,v=r.data.filter((a=>a.attributes.stock.data))),r.data.forEach((a=>{s+=parseInt(a.attributes.received)})),e(2,f=s),void async function(a){if(a.detail?.data)try{let t={populate:["stock_release","stock_release.consortium_member","purchase_order_item","purchase_order_item.item"],filters:{purchase_order_item:{id:{$in:[a.detail.data.id]}}},"pagination[limit]":-1};t=F.stringify(t,{encodeValuesOnly:!0});let r=await H("stock-release-items",t);console.log("Get Stock Release Items ",r);let s=0;return e(4,p=r.data.filter((a=>a.attributes.stock_release.data))),r.data.forEach((a=>{a.id!=u&&(s+=parseInt(a.attributes.quantity))})),void e(2,f-=s)}catch(a){console.log("Error Stock Release Items ",a)}e(2,f=0)}(a)}catch(a){console.log("Error Stock Items ",a)}e(2,f=0)},u,function(t){a.$$.not_equal(i.value,t)&&(i.value=t,n.set(i))},function(t){a.$$.not_equal(s.value,t)&&(s.value=t,h.set(s))},function(){r.value=$(this.value),m.set(r)},function(){b=this.value,e(1,b)}]}class ua extends a{constructor(a){super(),t(this,a,la,ca,e,{slug:19},null,[-1,-1])}}export{ua as default,ia as preload};
