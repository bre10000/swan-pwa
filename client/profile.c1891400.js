import{S as a,i as s,s as e,I as r,T as l,z as c,e as t,p as i,t as o,B as n,d as u,C as d,c as h,a as f,q as v,b as m,f as E,h as p,j as g,r as b,E as y,F as I,G as B,w as q,x as D,y as V,J as P,W as x,u as U,g as k,o as N,_ as $,N as R}from"./client.39550401.js";import{f as A,r as w,a as L}from"./required.58b29d3a.js";import{e as T}from"./email.9ed5fcaf.js";function j(a){let s,e;return{c(){s=t("p"),e=o("Name is required"),this.h()},l(a){s=h(a,"P",{class:!0});var r=f(s);e=m(r,"Name is required"),r.forEach(u),this.h()},h(){E(s,"class","help is-danger")},m(a,r){p(a,s,r),g(s,e)},d(a){a&&u(s)}}}function S(a){let s,e;return{c(){s=t("p"),e=o("Username is required"),this.h()},l(a){s=h(a,"P",{class:!0});var r=f(s);e=m(r,"Username is required"),r.forEach(u),this.h()},h(){E(s,"class","help is-danger")},m(a,r){p(a,s,r),g(s,e)},d(a){a&&u(s)}}}function C(a){let s,e;return{c(){s=t("p"),e=o("Email is required"),this.h()},l(a){s=h(a,"P",{class:!0});var r=f(s);e=m(r,"Email is required"),r.forEach(u),this.h()},h(){E(s,"class","help is-danger")},m(a,r){p(a,s,r),g(s,e)},d(a){a&&u(s)}}}function F(a){let s,e,x,U,k,N,$,R,A,w,L,T,F,O,z,G,H,J,M,W,_,K,Q,X,Y,Z,aa,sa,ea,ra,la,ca,ta,ia,oa,na,ua,da,ha,fa,va,ma,Ea,pa,ga,ba,ya,Ia,Ba,qa,Da,Va,Pa,xa,Ua,ka,Na,$a,Ra,Aa,wa,La,Ta=a[3].hasError("name.required"),ja=a[3].hasError("username.required"),Sa=a[3].hasError("email.required");R=new r({props:{data:l}});let Ca=Ta&&j(),Fa=ja&&S(),Oa=Sa&&C();return{c(){s=c(),e=t("br"),x=t("br"),U=c(),k=t("div"),N=t("a"),$=t("span"),i(R.$$.fragment),A=o(" Back"),w=c(),L=t("br"),T=t("br"),F=c(),O=t("div"),z=t("br"),G=t("br"),H=c(),J=t("h3"),M=o("Edit Profile"),W=c(),_=t("p"),K=o("Complete the form below and click save."),Q=c(),X=t("br"),Y=c(),Z=t("form"),aa=t("div"),sa=t("div"),ea=t("div"),ra=t("label"),la=o("Name (*)"),ca=c(),ta=t("div"),ia=t("input"),oa=c(),Ca&&Ca.c(),na=c(),ua=t("div"),da=t("div"),ha=t("label"),fa=o("Username (*)"),va=c(),ma=t("div"),Ea=t("input"),pa=c(),Fa&&Fa.c(),ga=c(),ba=t("div"),ya=t("div"),Ia=t("div"),Ba=t("label"),qa=o("Email (*)"),Da=c(),Va=t("div"),Pa=t("input"),xa=c(),Oa&&Oa.c(),Ua=c(),ka=t("div"),Na=t("button"),$a=o("Save"),this.h()},l(a){n('[data-svelte="svelte-h1cjtk"]',document.head).forEach(u),s=d(a),e=h(a,"BR",{}),x=h(a,"BR",{}),U=d(a),k=h(a,"DIV",{class:!0});var r=f(k);N=h(r,"A",{href:!0,class:!0});var l=f(N);$=h(l,"SPAN",{class:!0});var c=f($);v(R.$$.fragment,c),c.forEach(u),A=m(l," Back"),l.forEach(u),w=d(r),L=h(r,"BR",{}),T=h(r,"BR",{}),F=d(r),O=h(r,"DIV",{class:!0});var t=f(O);z=h(t,"BR",{}),G=h(t,"BR",{}),H=d(t),J=h(t,"H3",{class:!0});var i=f(J);M=m(i,"Edit Profile"),i.forEach(u),W=d(t),_=h(t,"P",{class:!0});var o=f(_);K=m(o,"Complete the form below and click save."),o.forEach(u),Q=d(t),X=h(t,"BR",{}),Y=d(t),Z=h(t,"FORM",{});var E=f(Z);aa=h(E,"DIV",{class:!0});var p=f(aa);sa=h(p,"DIV",{class:!0});var g=f(sa);ea=h(g,"DIV",{class:!0});var b=f(ea);ra=h(b,"LABEL",{for:!0,class:!0});var y=f(ra);la=m(y,"Name (*)"),y.forEach(u),ca=d(b),ta=h(b,"DIV",{class:!0});var I=f(ta);ia=h(I,"INPUT",{class:!0,type:!0}),I.forEach(u),oa=d(b),Ca&&Ca.l(b),b.forEach(u),g.forEach(u),na=d(p),ua=h(p,"DIV",{class:!0});var B=f(ua);da=h(B,"DIV",{class:!0});var q=f(da);ha=h(q,"LABEL",{for:!0,class:!0});var D=f(ha);fa=m(D,"Username (*)"),D.forEach(u),va=d(q),ma=h(q,"DIV",{class:!0});var V=f(ma);Ea=h(V,"INPUT",{class:!0,type:!0}),V.forEach(u),pa=d(q),Fa&&Fa.l(q),q.forEach(u),B.forEach(u),p.forEach(u),ga=d(E),ba=h(E,"DIV",{class:!0});var P=f(ba);ya=h(P,"DIV",{class:!0});var j=f(ya);Ia=h(j,"DIV",{class:!0});var S=f(Ia);Ba=h(S,"LABEL",{for:!0,class:!0});var C=f(Ba);qa=m(C,"Email (*)"),C.forEach(u),Da=d(S),Va=h(S,"DIV",{class:!0});var Ra=f(Va);Pa=h(Ra,"INPUT",{class:!0,type:!0}),Ra.forEach(u),xa=d(S),Oa&&Oa.l(S),S.forEach(u),j.forEach(u),P.forEach(u),Ua=d(E),ka=h(E,"DIV",{class:!0});var Aa=f(ka);Na=h(Aa,"BUTTON",{class:!0});var wa=f(Na);$a=m(wa,"Save"),wa.forEach(u),Aa.forEach(u),E.forEach(u),t.forEach(u),r.forEach(u),this.h()},h(){document.title="Profile",E($,"class","icon is-small"),E(N,"href","dashboard"),E(N,"class","has-text-dark"),E(J,"class","my-0"),E(_,"class","gray py-0"),E(ra,"for",""),E(ra,"class","gray"),E(ia,"class","input"),ia.required=!0,E(ia,"type","text"),E(ta,"class","control"),E(ea,"class","field"),E(sa,"class","column"),E(ha,"for",""),E(ha,"class","gray"),E(Ea,"class","input"),Ea.required=!0,E(Ea,"type","text"),E(ma,"class","control"),E(da,"class","field"),E(ua,"class","column"),E(aa,"class","columns"),E(Ba,"for",""),E(Ba,"class","gray"),E(Pa,"class","input"),Pa.required=!0,E(Pa,"type","email"),E(Va,"class","control"),E(Ia,"class","field"),E(ya,"class","column"),E(ba,"class","columns"),Na.disabled=Ra=!a[3].valid||!a[3].dirty,E(Na,"class","button is-dark my-2 px-5 py-2 has-text-weight-bold"),E(ka,"class","container-fluid has-text-centered py-2"),E(O,"class","card px-6"),E(k,"class","container px-6")},m(r,l){p(r,s,l),p(r,e,l),p(r,x,l),p(r,U,l),p(r,k,l),g(k,N),g(N,$),b(R,$,null),g(N,A),g(k,w),g(k,L),g(k,T),g(k,F),g(k,O),g(O,z),g(O,G),g(O,H),g(O,J),g(J,M),g(O,W),g(O,_),g(_,K),g(O,Q),g(O,X),g(O,Y),g(O,Z),g(Z,aa),g(aa,sa),g(sa,ea),g(ea,ra),g(ra,la),g(ea,ca),g(ea,ta),g(ta,ia),y(ia,a[2].value),g(ea,oa),Ca&&Ca.m(ea,null),g(aa,na),g(aa,ua),g(ua,da),g(da,ha),g(ha,fa),g(da,va),g(da,ma),g(ma,Ea),y(Ea,a[1].value),g(da,pa),Fa&&Fa.m(da,null),g(Z,ga),g(Z,ba),g(ba,ya),g(ya,Ia),g(Ia,Ba),g(Ba,qa),g(Ia,Da),g(Ia,Va),g(Va,Pa),y(Pa,a[0].value),g(Ia,xa),Oa&&Oa.m(Ia,null),g(Z,Ua),g(Z,ka),g(ka,Na),g(Na,$a),Aa=!0,wa||(La=[I(ia,"input",a[10]),I(Ea,"input",a[11]),I(Pa,"input",a[12]),I(Na,"click",B(a[8]))],wa=!0)},p(a,[s]){4&s&&ia.value!==a[2].value&&y(ia,a[2].value),8&s&&(Ta=a[3].hasError("name.required")),Ta?Ca||(Ca=j(),Ca.c(),Ca.m(ea,null)):Ca&&(Ca.d(1),Ca=null),2&s&&Ea.value!==a[1].value&&y(Ea,a[1].value),8&s&&(ja=a[3].hasError("username.required")),ja?Fa||(Fa=S(),Fa.c(),Fa.m(da,null)):Fa&&(Fa.d(1),Fa=null),1&s&&Pa.value!==a[0].value&&y(Pa,a[0].value),8&s&&(Sa=a[3].hasError("email.required")),Sa?Oa||(Oa=C(),Oa.c(),Oa.m(Ia,null)):Oa&&(Oa.d(1),Oa=null),(!Aa||8&s&&Ra!==(Ra=!a[3].valid||!a[3].dirty))&&(Na.disabled=Ra)},i(a){Aa||(q(R.$$.fragment,a),Aa=!0)},o(a){D(R.$$.fragment,a),Aa=!1},d(a){a&&u(s),a&&u(e),a&&u(x),a&&u(U),a&&u(k),V(R),Ca&&Ca.d(),Fa&&Fa.d(),Oa&&Oa.d(),wa=!1,P(La)}}}async function O(a){return{slug:parseInt(a.params.slug)}}function z(a,s,e){let r,l,c,t,i;x(a,U,(a=>e(13,t=a)));let{slug:o}=s;const n=A("name","",[w()]);x(a,n,(a=>e(2,c=a)));const u=A("username","",[w()]);x(a,u,(a=>e(1,l=a)));const d=A("email","",[w(),T()]);x(a,d,(a=>e(0,r=a)));const h=L(n,u,d);x(a,h,(a=>e(3,i=a)));const f=U.subscribe((a=>{!a.loggedIn&&a.fetched?k("/login"):a.loggedIn&&a.fetched&&(n.set(a.data.name),d.set(a.data.email),u.set(a.data.username))}));return N(f),a.$$set=a=>{"slug"in a&&e(9,o=a.slug)},[r,l,c,i,n,u,d,h,async function(){if(await h.validate(),i.valid)try{let a=await $({path:"users/"+t.data.id,data:{name:c.value,username:l.value,email:r.value}});console.log("Add User Request  ",a),a?.id&&(R.push("Profile Edited Successfully!",{duration:2e4,theme:{"--toastBackground":"#48BB78","--toastBarBackground":"#2F855A"}}),U.createUser(),k("dashboard"))}catch(a){console.log("Error Add User   ",a)}},o,function(){c.value=this.value,n.set(c)},function(){l.value=this.value,u.set(l)},function(){r.value=this.value,d.set(r)}]}class G extends a{constructor(a){super(),s(this,a,z,F,e,{slug:9})}}export{G as default,O as preload};
