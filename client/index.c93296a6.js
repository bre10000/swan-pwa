import{S as a,i as t,s,e,t as r,c as o,a as l,b as n,d as c,f as i,h as d,j as f,k as h,I as m,l as p,m as u,n as g,p as $,q as v,r as E,v as w,w as b,x,y as I,z as D,A as y,B,C as A,D as P,E as V,F as R,G as k,H as j,J as C,u as S,g as T,o as N,K as F,L as O,M as U,N as G}from"./client.4ce32fd9.js";import{D as H}from"./DataTable.ef5bafd6.js";import{l as q}from"./index.79acf2d4.js";import{D as L}from"./DeleteConfirmation.a8531309.js";import{e as M,a as _}from"./exportPDF.eed7360e.js";import"./SelectedColumns.b7523f53.js";import"./SelectedColumns.61150ba7.js";import"./csvGenerator.e601e4e6.js";import"./DataTable.addde9e1.js";import"./index.8bbc6ba3.js";import"./jspdf.plugin.autotable.dc15019a.js";function z(a){let t,s,m=a[3].total+"";return{c(){t=e("span"),s=r(m),this.h()},l(a){t=o(a,"SPAN",{class:!0});var e=l(t);s=n(e,m),e.forEach(c),this.h()},h(){i(t,"class","gray has-text-weight-light ml-2")},m(a,e){d(a,t,e),f(t,s)},p(a,t){8&t&&m!==(m=a[3].total+"")&&h(s,m)},d(a){a&&c(t)}}}function J(a){let t,s,h,p,g,y,B,P,V,R,k,j,C,S,T,N;return B=new m({props:{data:u,scale:"3"}}),{c(){t=e("div"),s=e("br"),h=e("br"),p=e("br"),g=e("br"),y=D(),$(B.$$.fragment),P=D(),V=e("p"),R=r("Uh oh! nothing found on database."),k=D(),j=e("br"),C=e("br"),S=e("br"),T=e("br"),this.h()},l(a){t=o(a,"DIV",{class:!0});var e=l(t);s=o(e,"BR",{}),h=o(e,"BR",{}),p=o(e,"BR",{}),g=o(e,"BR",{}),y=A(e),v(B.$$.fragment,e),P=A(e),V=o(e,"P",{class:!0});var r=l(V);R=n(r,"Uh oh! nothing found on database."),r.forEach(c),k=A(e),j=o(e,"BR",{}),C=o(e,"BR",{}),S=o(e,"BR",{}),T=o(e,"BR",{}),e.forEach(c),this.h()},h(){i(V,"class","gray"),i(t,"class","has-text-centered")},m(a,e){d(a,t,e),f(t,s),f(t,h),f(t,p),f(t,g),f(t,y),E(B,t,null),f(t,P),f(t,V),f(V,R),f(t,k),f(t,j),f(t,C),f(t,S),f(t,T),N=!0},p:w,i(a){N||(b(B.$$.fragment,a),N=!0)},o(a){x(B.$$.fragment,a),N=!1},d(a){a&&c(t),I(B)}}}function K(a){let t,s;return t=new H({props:{pagination:a[3],columns:a[4],rows:a[2],options:a[5]}}),t.$on("clickCol",a[8]),t.$on("changePage",a[7]),t.$on("deleteRow",a[10]),t.$on("editRow",a[9]),t.$on("clickRow",a[9]),{c(){$(t.$$.fragment)},l(a){v(t.$$.fragment,a)},m(a,e){E(t,a,e),s=!0},p(a,s){const e={};8&s&&(e.pagination=a[3]),4&s&&(e.rows=a[2]),t.$set(e)},i(a){s||(b(t.$$.fragment,a),s=!0)},o(a){x(t.$$.fragment,a),s=!1},d(a){I(t,a)}}}function Q(a){let t,s;return t=new L({}),t.$on("confirm",a[11]),t.$on("dismiss",a[17]),{c(){$(t.$$.fragment)},l(a){v(t.$$.fragment,a)},m(a,e){E(t,a,e),s=!0},p:w,i(a){s||(b(t.$$.fragment,a),s=!0)},o(a){x(t.$$.fragment,a),s=!1},d(a){I(t,a)}}}function W(a){let t,s,h,w,S,T,N,F,U,G,H,q,L,M,_,W,X,Y,Z,aa,ta,sa,ea,ra,oa,la,na,ca,ia,da,fa,ha,ma,pa,ua,ga,$a,va,Ea,wa,ba,xa,Ia,Da,ya,Ba,Aa,Pa,Va,Ra,ka,ja,Ca,Sa,Ta,Na,Fa,Oa,Ua,Ga,Ha,qa,La,Ma,_a,za,Ja,Ka,Qa,Wa,Xa,Ya=a[3]&&z(a);M=new m({props:{data:p}}),la=new m({props:{data:u}}),wa=new m({props:{data:g}});const Za=[K,J],at=[];function tt(a,t){return a[2]?.length>0?0:1}Ua=tt(a),Ga=at[Ua]=Za[Ua](a);let st=a[1]&&Q(a);return{c(){t=D(),s=e("br"),h=e("br"),w=D(),S=e("div"),T=e("div"),N=e("div"),F=e("h3"),U=r("Items\r\n                "),Ya&&Ya.c(),G=D(),H=e("div"),q=e("a"),L=e("span"),$(M.$$.fragment),_=D(),W=e("span"),X=r("Add an Item"),Y=D(),Z=e("div"),aa=e("div"),ta=e("div"),sa=e("div"),ea=e("input"),ra=D(),oa=e("span"),$(la.$$.fragment),na=D(),ca=e("div"),ia=e("button"),da=r("Search"),fa=D(),ha=e("div"),ma=e("div"),pa=e("div"),ua=e("button"),ga=e("span"),$a=r("Export To Excel or PDF"),va=D(),Ea=e("span"),$(wa.$$.fragment),ba=D(),xa=e("div"),Ia=e("div"),Da=e("a"),ya=r("Export Current Page to Excel"),Ba=D(),Aa=e("a"),Pa=r("Export Current Page to PDF"),Va=D(),Ra=e("hr"),ka=D(),ja=e("a"),Ca=r("Export All to Excel"),Sa=D(),Ta=e("a"),Na=r("Export All to PDF"),Fa=D(),Oa=e("div"),Ga.c(),Ha=D(),qa=e("br"),La=e("br"),Ma=e("br"),_a=e("br"),za=e("br"),Ja=D(),st&&st.c(),Ka=y(),this.h()},l(a){B('[data-svelte="svelte-s1xpdp"]',document.head).forEach(c),t=A(a),s=o(a,"BR",{}),h=o(a,"BR",{}),w=A(a),S=o(a,"DIV",{class:!0});var e=l(S);T=o(e,"DIV",{class:!0});var r=l(T);N=o(r,"DIV",{class:!0});var i=l(N);F=o(i,"H3",{});var d=l(F);U=n(d,"Items\r\n                "),Ya&&Ya.l(d),d.forEach(c),i.forEach(c),G=A(r),H=o(r,"DIV",{class:!0});var f=l(H);q=o(f,"A",{href:!0,class:!0});var m=l(q);L=o(m,"SPAN",{class:!0});var p=l(L);v(M.$$.fragment,p),p.forEach(c),_=A(m),W=o(m,"SPAN",{class:!0});var u=l(W);X=n(u,"Add an Item"),u.forEach(c),m.forEach(c),f.forEach(c),r.forEach(c),Y=A(e),Z=o(e,"DIV",{class:!0});var g=l(Z);aa=o(g,"DIV",{class:!0});var $=l(aa);ta=o($,"DIV",{class:!0,style:!0});var E=l(ta);sa=o(E,"DIV",{class:!0});var b=l(sa);ea=o(b,"INPUT",{class:!0,type:!0,placeholder:!0}),ra=A(b),oa=o(b,"SPAN",{class:!0});var x=l(oa);v(la.$$.fragment,x),x.forEach(c),b.forEach(c),na=A(E),ca=o(E,"DIV",{class:!0});var I=l(ca);ia=o(I,"BUTTON",{class:!0});var D=l(ia);da=n(D,"Search"),D.forEach(c),I.forEach(c),E.forEach(c),$.forEach(c),fa=A(g),ha=o(g,"DIV",{class:!0});var P=l(ha);ma=o(P,"DIV",{class:!0});var V=l(ma);pa=o(V,"DIV",{class:!0});var R=l(pa);ua=o(R,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var k=l(ua);ga=o(k,"SPAN",{});var j=l(ga);$a=n(j,"Export To Excel or PDF"),j.forEach(c),va=A(k),Ea=o(k,"SPAN",{class:!0});var C=l(Ea);v(wa.$$.fragment,C),C.forEach(c),k.forEach(c),R.forEach(c),ba=A(V),xa=o(V,"DIV",{class:!0,id:!0,role:!0});var O=l(xa);Ia=o(O,"DIV",{class:!0});var z=l(Ia);Da=o(z,"A",{href:!0,class:!0});var J=l(Da);ya=n(J,"Export Current Page to Excel"),J.forEach(c),Ba=A(z),Aa=o(z,"A",{href:!0,class:!0});var K=l(Aa);Pa=n(K,"Export Current Page to PDF"),K.forEach(c),Va=A(z),Ra=o(z,"HR",{class:!0}),ka=A(z),ja=o(z,"A",{href:!0,class:!0});var Q=l(ja);Ca=n(Q,"Export All to Excel"),Q.forEach(c),Sa=A(z),Ta=o(z,"A",{href:!0,class:!0});var Ua=l(Ta);Na=n(Ua,"Export All to PDF"),Ua.forEach(c),z.forEach(c),O.forEach(c),V.forEach(c),P.forEach(c),g.forEach(c),Fa=A(e),Oa=o(e,"DIV",{class:!0});var Qa=l(Oa);Ga.l(Qa),Qa.forEach(c),Ha=A(e),qa=o(e,"BR",{}),La=o(e,"BR",{}),Ma=o(e,"BR",{}),_a=o(e,"BR",{}),za=o(e,"BR",{}),e.forEach(c),Ja=A(a),st&&st.l(a),Ka=y(),this.h()},h(){document.title="Items",i(N,"class","column"),i(L,"class","icon"),i(W,"class","has-text-white has-text-weight-bold"),i(q,"href","/items/add"),i(q,"class","button is-dark px-5"),i(H,"class","column has-text-right"),i(T,"class","columns"),i(ea,"class","input is-dark"),i(ea,"type","search"),i(ea,"placeholder","search"),i(oa,"class","icon is-small is-left"),i(sa,"class","control has-icons-left"),i(ia,"class","button is-dark has-text-weight-bold"),i(ca,"class","control"),i(ta,"class","field has-addons"),P(ta,"width","500px"),i(aa,"class","column"),i(Ea,"class","icon is-small"),i(ua,"class","button"),i(ua,"aria-haspopup","true"),i(ua,"aria-controls","dropdown-menu"),i(pa,"class","dropdown-trigger"),i(Da,"href","#"),i(Da,"class","dropdown-item"),i(Aa,"href","#"),i(Aa,"class","dropdown-item"),i(Ra,"class","dropdown-divider"),i(ja,"href","#"),i(ja,"class","dropdown-item"),i(Ta,"href","#"),i(Ta,"class","dropdown-item"),i(Ia,"class","dropdown-content has-text-left"),i(xa,"class","dropdown-menu"),i(xa,"id","dropdown-menu"),i(xa,"role","menu"),i(ma,"class","dropdown is-hoverable"),i(ha,"class","column has-text-right"),i(Z,"class","columns"),i(Oa,"class","card"),i(S,"class","container px-6")},m(e,r){d(e,t,r),d(e,s,r),d(e,h,r),d(e,w,r),d(e,S,r),f(S,T),f(T,N),f(N,F),f(F,U),Ya&&Ya.m(F,null),f(T,G),f(T,H),f(H,q),f(q,L),E(M,L,null),f(q,_),f(q,W),f(W,X),f(S,Y),f(S,Z),f(Z,aa),f(aa,ta),f(ta,sa),f(sa,ea),V(ea,a[0]),f(sa,ra),f(sa,oa),E(la,oa,null),f(ta,na),f(ta,ca),f(ca,ia),f(ia,da),f(Z,fa),f(Z,ha),f(ha,ma),f(ma,pa),f(pa,ua),f(ua,ga),f(ga,$a),f(ua,va),f(ua,Ea),E(wa,Ea,null),f(ma,ba),f(ma,xa),f(xa,Ia),f(Ia,Da),f(Da,ya),f(Ia,Ba),f(Ia,Aa),f(Aa,Pa),f(Ia,Va),f(Ia,Ra),f(Ia,ka),f(Ia,ja),f(ja,Ca),f(Ia,Sa),f(Ia,Ta),f(Ta,Na),f(S,Fa),f(S,Oa),at[Ua].m(Oa,null),f(S,Ha),f(S,qa),f(S,La),f(S,Ma),f(S,_a),f(S,za),d(e,Ja,r),st&&st.m(e,r),d(e,Ka,r),Qa=!0,Wa||(Xa=[R(ea,"input",a[16]),R(ia,"click",a[6]),R(Da,"click",k(a[12])),R(Aa,"click",k(a[13])),R(ja,"click",k(a[14])),R(Ta,"click",k(a[15]))],Wa=!0)},p(a,[t]){a[3]?Ya?Ya.p(a,t):(Ya=z(a),Ya.c(),Ya.m(F,null)):Ya&&(Ya.d(1),Ya=null),1&t&&V(ea,a[0]);let s=Ua;Ua=tt(a),Ua===s?at[Ua].p(a,t):(O(),x(at[s],1,1,(()=>{at[s]=null})),j(),Ga=at[Ua],Ga?Ga.p(a,t):(Ga=at[Ua]=Za[Ua](a),Ga.c()),b(Ga,1),Ga.m(Oa,null)),a[1]?st?(st.p(a,t),2&t&&b(st,1)):(st=Q(a),st.c(),b(st,1),st.m(Ka.parentNode,Ka)):st&&(O(),x(st,1,1,(()=>{st=null})),j())},i(a){Qa||(b(M.$$.fragment,a),b(la.$$.fragment,a),b(wa.$$.fragment,a),b(Ga),b(st),Qa=!0)},o(a){x(M.$$.fragment,a),x(la.$$.fragment,a),x(wa.$$.fragment,a),x(Ga),x(st),Qa=!1},d(a){a&&c(t),a&&c(s),a&&c(h),a&&c(w),a&&c(S),Ya&&Ya.d(),I(M),I(la),I(wa),at[Ua].d(),a&&c(Ja),st&&st.d(a),a&&c(Ka),Wa=!1,C(Xa)}}}function X(a,t,s){const e=S.subscribe((a=>{!a.loggedIn&&a.fetched?T("/login"):a.data&&f()}));N(e);let r,o="",l="",n=!1,c=[];const i=[{key:"id",title:"ID",sortable:!0,filterValue:a=>Math.floor(a.id/10),interval:10,filterType:"numeric",headerClass:"has-text-left",selected:!0},{key:"name",title:"Name",sortable:!0,filterValue:a=>a.first_name.charAt(0).toLowerCase(),filterType:"string",selected:!0},{key:"category",title:"Category",sortable:!0,filterValue:a=>a.last_name.charAt(0).toLowerCase(),filterType:"string",selected:!0}];let d;async function f(a,t,e){try{let r={filters:a||{},sort:t||"id","pagination[page]":e||1};r=q.stringify(r,{encodeValuesOnly:!0});let o=await F("items",r);console.log("Get Items Request - ",o),s(2,c=o.data),s(3,d=o.meta?.pagination)}catch(a){console.warn("Error Getting Items - ",a)}}function h(){f(m(),l)}function m(){return{$or:[{name:{$containsi:o}},{category:{$containsi:o}}]}}return[o,n,c,d,i,{title:"Items Table",showFilterHeader:!1,showSelect:!1,showDetails:!1,showActions:!0,showFooter:!1},h,function(a){f(m(),l,a.detail.newPage)},function(a){l=a.detail.key,f(m(),l,a.detail.newPage)},function(a){T("items/edit/"+a.detail.row.id)},function(a){r=a.detail.row,s(1,n=!0)},async function(){s(1,n=!1);try{let a=await U("items/"+r.id,null);console.log("Delete Item Request  ",a),a.data?.id&&(G.push("Item Deleted Successfully!",{duration:2e4,theme:{"--toastBackground":"#48BB78","--toastBarBackground":"#2F855A"}}),h())}catch(a){console.log("Error Delete Item   ",a)}},function(){M("Items",c,i)},function(){_("Items",c,i)},async function(){try{let a={"pagination[limit]":-1};a=q.stringify(a,{encodeValuesOnly:!0});let t=await F("items",a);M("Items",t.data,i)}catch(a){}},async function(){try{let a={"pagination[limit]":-1};a=q.stringify(a,{encodeValuesOnly:!0});let t=await F("items",a);_("Items",t.data,i)}catch(a){}},function(){o=this.value,s(0,o)},()=>s(1,n=!1)]}class Y extends a{constructor(a){super(),t(this,a,X,W,s,{})}}export{Y as default};
