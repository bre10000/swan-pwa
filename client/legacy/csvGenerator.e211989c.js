import{Y as e}from"./client.97995fc4.js";var t=function(t,a,r,i){var n=t||null;if(null==n||!n.length)return null;var o="";if(o+=r.join(","),o+="\n",n.forEach((function(t){var r=0;a.forEach((function(a){if(r>0&&(o+=","),Array.isArray(t[a])){var i=t[a]&&t[a].length>0?'"'+t[a].join(",")+'"':"-";o+=i}else if("id"==a){var n=t[a]?'"'+t[a]+'"':"-";o+=n?n.replace(/\s{2,}/g," "):n}else if("string"==typeof t[a]){var l=t.attributes[a]?'"'+t.attributes[a]+'"':"-";o+=l?l.replace(/\s{2,}/g," "):l}else if("string"==typeof t.attributes[a]){var s=t.attributes[a]?'"'+t.attributes[a]+'"':"-";o+=s?s.replace(/\s{2,}/g," "):s}else if("object"==e(t.attributes[a])){var c=t.attributes[a].data.attributes.name?'"'+t.attributes[a].data.attributes.name+'"':"-";o+=c?c.replace(/\s{2,}/g," "):c}else{var d=t[a]+"";o+=d?d.replace(/,/g,""):d}r++})),o+="\n"})),null!=o){var l=new Blob([o]);if(navigator.msSaveBlob)navigator.msSaveBlob(l,exportedFilenmae);else if(navigator.userAgent.match(/iPhone|iPad|iPod/i)){var s=window.document.createElement("a");s.href="data:text/csv;charset=utf-8,"+encodeURI(o),s.target="_blank",s.download=i,s.click()}else{var c=document.createElement("a");if(void 0!==c.download){var d=URL.createObjectURL(l);c.setAttribute("href",d),c.setAttribute("download",i),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)}}}};function a(e,t){for(var a=function(e){for(var t="",a=0;a<e.length;a++){var r=null===e[a]?"":e[a].toString();e[a]instanceof Date&&(r=e[a].toLocaleString());var i=r.replace(/"/g,'""');i.search(/("|,|\n)/g)>=0&&(i='"'+i+'"'),a>0&&(t+=","),t+=i}return t+"\n"},r="",i=0;i<t.length;i++)r+=a(t[i]);var n=new Blob([r],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(n,e);else{var o=document.createElement("a");if(void 0!==o.download){var l=URL.createObjectURL(n);o.setAttribute("href",l),o.setAttribute("download",e),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o)}}}export{t as c,a as e};
