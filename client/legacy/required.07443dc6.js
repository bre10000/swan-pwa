import{ac as r,ad as e,ae as t,P as n,Q as a,Y as i,af as o,ag as u}from"./client.97995fc4.js";function c(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function(r,e){if(!r)return;if("string"==typeof r)return f(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(r);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(r,e)}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,a=function(){};return{s:a,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return o=r.done,r},e:function(r){u=!0,i=r},f:function(){try{o||null==t.return||t.return()}finally{if(u)throw i}}}}function f(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function s(){for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];var f=[],s=[];if(o.forEach((function(t){var n=r(t);f.includes(n.name)?s=s.includes(n.name)?s:[].concat(e(s),[n.name]):f=[].concat(e(f),[n.name])})),s.length)throw new Error("Cannot have the fields with the same name: ".concat(s.join(", ")));var l=t(o,(function(r){return{valid:r.every((function(r){return r.valid})),dirty:r.some((function(r){return r.dirty})),errors:r.map((function(r){return r.errors.map((function(e){return e.includes(".")?e:"".concat(r.name,".").concat(e)}))})).flat().filter((function(r,e,t){return t.indexOf(r)===e})),hasError:function(r){return-1!==this.errors.findIndex((function(e){return e===r}))}}})),p=l.subscribe;function v(){o.forEach((function(r){return r.reset&&r.reset()}))}function d(){return y.apply(this,arguments)}function y(){return(y=n(a.mark((function r(){var e,t,n;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e=c(o),r.prev=1,e.s();case 3:if((t=e.n()).done){r.next=10;break}if(!(n=t.value).validate){r.next=8;break}return r.next=8,n.validate();case 8:r.next=3;break;case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),e.e(r.t0);case 15:return r.prev=15,e.f(),r.finish(15);case 18:case"end":return r.stop()}}),r,null,[[1,12,15,18]])})))).apply(this,arguments)}function b(e){return o.find((function(t){return r(t).name===e}))}function h(){return o.reduce((function(e,t){var n=r(t);return e[n.name]=n.value,e}),{})}return{subscribe:p,reset:v,validate:d,getField:b,summary:h}}var l=v,p=v;function v(r){return!!r&&("object"===i(r)||"function"==typeof r)&&"function"==typeof r.then}l.default=p;var d={valid:!0,checkOnInit:!1,validateOnChange:!0,stopAtFirstError:!1};function y(r){var e=Object.keys(r);return["name","value","valid","invalid","errors"].every((function(r){return e.includes(r)}))}function b(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function(r,e){if(!r)return;if("string"==typeof r)return h(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(r);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(r,e)}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,a=function(){};return{s:a,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return o=r.done,r},e:function(r){u=!0,i=r},f:function(){try{o||null==t.return||t.return()}finally{if(u)throw i}}}}function h(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function m(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function g(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?m(Object(t),!0).forEach((function(e){u(r,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}function O(e){return void 0!==e.subscribe?r(e).value:e.name&&void 0!==e.valid?e.value:e}function w(r,e){return j.apply(this,arguments)}function j(){return(j=n(a.mark((function r(t,n){var i,o,u,c,f,s,p,v=arguments;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=v.length>2&&void 0!==v[2]&&v[2],o=O(t),u=[],c=b(n),r.prev=4,c.s();case 6:if((f=c.n()).done){r.next=19;break}if(s=f.value,p=s(o),!l(p)){r.next=13;break}return r.next=12,p;case 12:p=r.sent;case 13:if(!i||p.valid){r.next=16;break}return u=[p],r.abrupt("break",19);case 16:u=[].concat(e(u),[p]);case 17:r.next=6;break;case 19:r.next=24;break;case 21:r.prev=21,r.t0=r.catch(4),c.e(r.t0);case 24:return r.prev=24,c.f(),r.finish(24);case 27:return r.abrupt("return",u);case 28:case"end":return r.stop()}}),r,null,[[4,21,24,27]])})))).apply(this,arguments)}function x(r,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e){var n=e.filter((function(r){return!r.valid})).map((function(r){return r.name})),a=!n.length;return g(g({},r),{},{valid:a,invalid:!a,errors:n},t)}return r}function k(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],u=arguments.length>3?arguments[3]:void 0,c={name:e,value:t,valid:u.valid,invalid:!u.valid,dirty:!1,errors:[]},f=o(c),s=f.subscribe,l=f.update,p=f.set;function v(r){return d.apply(this,arguments)}function d(){return(d=n(a.mark((function e(t){var n,o,c=arguments;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]&&c[1],y(t)||(t=x(r(f),[],{value:t})),!n&&!u.validateOnChange){e.next=9;break}return e.next=5,w(t,i,u.stopAtFirstError);case 5:o=e.sent,p(x(t,o,{dirty:!0})),e.next=10;break;case 9:p(x(t,[],{dirty:!0}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return h.apply(this,arguments)}function h(){return(h=n(a.mark((function r(){var e,t;return a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w(f,i,u.stopAtFirstError);case 2:return e=r.sent,l((function(r){return t=x(r,e,{dirty:!1})})),r.abrupt("return",t);case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function m(){p(x({dirty:!1,errors:[],name:e,valid:u.valid,invalid:!u.valid,value:t}))}return u.checkOnInit&&v(c),{subscribe:s,update:l,set:v,validate:b,reset:m}}function P(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function A(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?P(Object(t),!0).forEach((function(e){u(r,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}function S(r,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return k(r,e,t,A(A({},d),n))}function E(){return function(r){var e=!0;(null==r&&(e=!1),"string"==typeof r)&&(e=r.replace(/\s/g,"").length>0);return{valid:e,name:"required"}}}export{s as a,S as f,E as r};
